<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book Django课程讲义 -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>案例2：常见业务指标计算 | Django课程讲义</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        <meta name="author" content="BigCat">
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-theme-vuejs/vue.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-emphasize/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-splitter/splitter.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-code/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-chapter-fold/chapter-fold.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-prism/prism.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    
    <link rel="prev" href="../chapter08/03-RFM用户分群分析.html" />
    

        <!-- head:end -->
    </head>
    <body>
        <!-- body:start -->
        
    <div class="book"
        data-level="8.2"
        data-chapter-title="案例2：常见业务指标计算"
        data-filepath="chapter08/04-常见业务指标计算.md"
        data-basepath=".."
        data-revision="Mon Jan 17 2022 16:44:16 GMT+0800 (中国标准时间)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="chapter01/index.html">
            
                
                    <a href="../chapter01/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Python数据开发简介
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="chapter01/01-数据开发简介.html">
            
                
                    <a href="../chapter01/01-数据开发简介.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Python数据开发简介
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="chapter01/02-开发环境搭建.html">
            
                
                    <a href="../chapter01/02-开发环境搭建.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        数据开发环境搭建
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="chapter02/index.html">
            
                
                    <a href="../chapter02/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        pandas快速入门
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="chapter02/01-pandas快速入门.html">
            
                
                    <a href="../chapter02/01-pandas快速入门.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        pandas快速入门
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="chapter02/02-Series和DataFrame.html">
            
                
                    <a href="../chapter02/02-Series和DataFrame.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Series和DataFrame
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="chapter02/03-DataFrame增删改.html">
            
                
                    <a href="../chapter02/03-DataFrame增删改.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        DataFrame增删改
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="chapter02/04-DataFrame查询.html">
            
                
                    <a href="../chapter02/04-DataFrame查询.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        DataFrame查询
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="chapter03/index.html">
            
                
                    <a href="../chapter03/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        pandas数据类型
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="chapter03/01-数据类型简介.html">
            
                
                    <a href="../chapter03/01-数据类型简介.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        数据类型简介
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="chapter03/02-数据类型转换.html">
            
                
                    <a href="../chapter03/02-数据类型转换.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        数据类型转换
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="chapter03/03-分类数据类型.html">
            
                
                    <a href="../chapter03/03-分类数据类型.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        分类数据类型
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="chapter03/04-日期数据类型.html">
            
                
                    <a href="../chapter03/04-日期数据类型.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        日期数据类型
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="chapter04/index.html">
            
                
                    <a href="../chapter04/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        pandas数据清洗
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="chapter04/01-缺失值处理.html">
            
                
                    <a href="../chapter04/01-缺失值处理.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        缺失值处理
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="chapter04/02-apply自定义函数.html">
            
                
                    <a href="../chapter04/02-apply自定义函数.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        apply自定义函数
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="chapter04/03-数据去重操作.html">
            
                
                    <a href="../chapter04/03-数据去重操作.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        数据去重操作
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="chapter05/index.html">
            
                
                    <a href="../chapter05/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        pandas数据处理
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="chapter05/01-数据组合.html">
            
                
                    <a href="../chapter05/01-数据组合.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        数据组合
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="chapter05/02-数据分组.html">
            
                
                    <a href="../chapter05/02-数据分组.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        数据分组
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="chapter05/03-数据整理.html">
            
                
                    <a href="../chapter05/03-数据整理.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        数据整理
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="chapter05/04-数据透视表.html">
            
                
                    <a href="../chapter05/04-数据透视表.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        数据透视表
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="chapter06/index.html">
            
                
                    <a href="../chapter06/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        数据导入和导出
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="chapter06/01-pandas数据导入和导出.html">
            
                
                    <a href="../chapter06/01-pandas数据导入和导出.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        pandas数据导入和导出
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="chapter07/index.html">
            
                
                    <a href="../chapter07/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Python数据可视化
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="chapter07/01-Matplotlib绘图.html">
            
                
                    <a href="../chapter07/01-Matplotlib绘图.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Matplotlib绘图
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="chapter07/02-pandas绘图.html">
            
                
                    <a href="../chapter07/02-pandas绘图.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        pandas绘图
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="chapter07/03-seaborn绘图.html">
            
                
                    <a href="../chapter07/03-seaborn绘图.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        seaborn绘图
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="chapter07/04-pyecharts绘图.html">
            
                
                    <a href="../chapter07/04-pyecharts绘图.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                        pyecharts绘图
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="chapter08/index.html">
            
                
                    <a href="../chapter08/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        pandas综合案例
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="chapter08/03-RFM用户分群分析.html">
            
                
                    <a href="../chapter08/03-RFM用户分群分析.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        案例1：RFM用户分群分析
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="8.2" data-path="chapter08/04-常见业务指标计算.html">
            
                
                    <a href="../chapter08/04-常见业务指标计算.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        案例2：常见业务指标计算
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Django课程讲义</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="&#x6848;&#x4F8B;2&#xFF1A;&#x5E38;&#x89C1;&#x4E1A;&#x52A1;&#x6307;&#x6807;&#x8FD0;&#x7B97;">&#x6848;&#x4F8B;2&#xFF1A;&#x5E38;&#x89C1;&#x4E1A;&#x52A1;&#x6307;&#x6807;&#x8FD0;&#x7B97;</h1>
<h2 id="&#x5B66;&#x4E60;&#x76EE;&#x6807;">&#x5B66;&#x4E60;&#x76EE;&#x6807;</h2>
<ul>
<li><p>&#x638C;&#x63E1;&#x6570;&#x636E;&#x6307;&#x6807;&#x7684;&#x6982;&#x5FF5;</p>
</li>
<li><p>&#x77E5;&#x9053;&#x5E38;&#x89C1;&#x7684;&#x4E1A;&#x52A1;&#x6307;&#x6807;&#x542B;&#x4E49;</p>
</li>
<li>&#x638C;&#x63E1;&#x5E38;&#x7528;&#x6570;&#x636E;&#x6307;&#x6807;&#x8BA1;&#x7B97;&#x65B9;&#x6CD5;</li>
</ul>
<h2 id="1-&#x6570;&#x636E;&#x6307;&#x6807;&#x7B80;&#x4ECB;">1. &#x6570;&#x636E;&#x6307;&#x6807;&#x7B80;&#x4ECB;</h2>
<p>&#x6570;&#x636E;&#x5206;&#x6790;/&#x5927;&#x6570;&#x636E;&#x5206;&#x6790;&#x7684;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x7528;&#x6570;&#x636E;&#x9A71;&#x52A8;&#x8FD0;&#x8425;&#xFF0C;&#x7528;&#x6570;&#x636E;&#x9A71;&#x52A8;&#x4E1A;&#x52A1;&#x589E;&#x957F;&#xFF08;&#x6570;&#x636E;&#x9A71;&#x52A8;&#x8BBE;&#x8BA1;&#xFF0C;&#x6570;&#x636E;&#x9A71;&#x52A8;&#x51B3;&#x7B56;&#xFF0C;&#x6570;&#x636E;&#x9A71;&#x52A8;XXX&#x2026;&#x2026;&#xFF09;&#xFF0C;&#x8981;&#x505A;&#x5230;&#x6570;&#x636E;&#x9A71;&#x52A8;&#xFF0C;&#x6700;&#x57FA;&#x672C;&#x7684;&#x5C42;&#x6B21;&#x5C31;&#x662F;&#x63CF;&#x8FF0;&#x6027;&#x5206;&#x6790;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7528;&#x6570;&#x636E;&#x6765;&#x8BB0;&#x5F55;&#x4F01;&#x4E1A;&#x7684;&#x4E1A;&#x52A1;&#x72B6;&#x51B5;&#xFF0C;&#x7528;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x6BCF;&#x5929;&#x5B9E;&#x9645;&#x53D1;&#x751F;&#x7684;&#x4E8B;&#x5B9E;&#x3002;</p>
<p>&#x5728;&#x8FD9;&#x4E2A;&#x9636;&#x6BB5;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5EFA;&#x7ACB;&#x4E00;&#x5957;<strong>&#x6570;&#x636E;&#x6307;&#x6807;</strong>&#x6765;&#x63CF;&#x8FF0;&#x6211;&#x4EEC;&#x7684;&#x4E1A;&#x52A1;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x8FD9;&#x4E00;&#x5957;&#x6307;&#x6807;&#x5EFA;&#x7ACB;&#x76F8;&#x5173;&#x7684;&#x62A5;&#x8868;&#xFF08;&#x65E5;&#x62A5;&#xFF0C;&#x5468;&#x62A5;&#xFF0C;&#x6708;&#x62A5;&#xFF09;&#xFF0C;&#x6709;&#x4E86;&#x8FD9;&#x4E00;&#x5957;&#x6307;&#x6807;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;<strong>&#x76D1;&#x63A7;</strong>&#x6BCF;&#x5929;&#x4E1A;&#x52A1;&#x8FD0;&#x884C;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x65B9;&#x4FBF;&#x53CA;&#x65F6;&#x53D1;&#x73B0;&#x95EE;&#x9898;&#x3002;</p>
<h3 id="11-&#x4EC0;&#x4E48;&#x662F;&#x6570;&#x636E;&#x6307;&#x6807;">1.1 &#x4EC0;&#x4E48;&#x662F;&#x6570;&#x636E;&#x6307;&#x6807;</h3>
<ul>
<li>&#x6570;&#x636E;&#x6307;&#x6807;&#x6982;&#x5FF5;&#xFF1A;&#x53EF;&#x5C06;&#x67D0;&#x4E2A;&#x4E8B;&#x4EF6;&#x91CF;&#x5316;&#xFF0C;&#x4E14;&#x53EF;&#x5F62;&#x6210;&#x6570;&#x5B57;&#xFF0C;&#x6765;&#x8861;&#x91CF;&#x76EE;&#x6807;&#x3002;</li>
<li>&#x6570;&#x636E;&#x6307;&#x6807;&#x7684;&#x4F5C;&#x7528;&#xFF1A;&#x5F53;&#x6211;&#x4EEC;&#x786E;&#x5B9A;&#x4E0B;&#x6765;&#x4E00;&#x5957;&#x6307;&#x6807;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x7528;&#x6307;&#x6807;&#x6765;&#x8861;&#x91CF;&#x4E1A;&#x52A1;&#xFF0C;&#x5224;&#x65AD;&#x4E1A;&#x52A1;&#x597D;&#x574F;<ul>
<li>&#x6700;&#x8FD1;&#x7684;&#x4E1A;&#x52A1;&#x4E0D;&#x9519;&#xFF0C;&#x6628;&#x5929;&#x6CE8;&#x518C;&#x4E86;&#x4E00;&#x4E07;&#x591A;&#x4EBA;       XX&#x6708;XX&#x65E5; &#x65B0;&#x6CE8;&#x518C;&#x7528;&#x6237;9820&#x4EBA;&#xFF0C;&#x8D85;&#x8FC7;&#x76EE;&#x6807;820&#x4EBA;</li>
<li>&#x6700;&#x8FD1;&#x7528;&#x6237;&#x5F88;&#x591A;&#x5BF9;&#x6211;&#x4EEC;&#x7684;&#x4EA7;&#x54C1;&#x4E0D;&#x6EE1;&#x610F;  XX&#x6708;XX&#x65E5;  &#x67D0;&#x4EA7;&#x54C1;&#x65E5;&#x9000;&#x8D27;85&#x4EF6; &#xFF0C;&#x7D2F;&#x8BA1;30&#x5929;&#x9000;&#x8D27;&#x7387;10%</li>
</ul>
</li>
</ul>
<h3 id="12-&#x5E38;&#x7528;&#x7684;&#x4E1A;&#x52A1;&#x6307;&#x6807;">1.2 &#x5E38;&#x7528;&#x7684;&#x4E1A;&#x52A1;&#x6307;&#x6807;</h3>
<ul>
<li><p><strong>&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x6307;&#x6807;</strong>&#xFF1A;&#x4E00;&#x4E2A;&#x4EA7;&#x54C1;&#x662F;&#x5426;&#x6210;&#x529F;&#xFF0C;&#x5982;&#x679C;&#x53EA;&#x770B;&#x4E00;&#x4E2A;&#x6307;&#x6807;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x6307;&#x6807;&#x4E00;&#x5B9A;&#x662F;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x6570;</p>
<ul>
<li>&#x65E5;&#x6D3B;&#xFF08;DAU&#xFF09;&#xFF1A;&#x4E00;&#x5929;&#x5185;&#x65E5;&#x5747;&#x6D3B;&#x8DC3;&#x8BBE;&#x5907;&#x6570;(&#x53BB;&#x91CD;&#xFF0C;&#x6709;&#x7684;&#x516C;&#x53F8;&#x542F;&#x52A8;&#x8FC7;APP&#x5C31;&#x7B97;&#x6D3B;&#x8DC3;&#xFF0C;&#x6709;&#x7684;&#x5FC5;&#x987B;&#x767B;&#x5F55;&#x8D26;&#x6237;&#x624D;&#x7B97;&#x6D3B;&#x8DC3;)</li>
<li>&#x6708;&#x6D3B;&#xFF08;MAU&#xFF09;&#xFF1A;&#x4E00;&#x4E2A;&#x6708;&#x5185;&#x7684;&#x6D3B;&#x8DC3;&#x8BBE;&#x5907;&#x6570;(&#x53BB;&#x91CD;&#xFF0C;&#x4E00;&#x822C;&#x7528;&#x6708;&#x6D3B;&#x6765;&#x8861;&#x91CF;APP&#x7528;&#x6237;&#x89C4;&#x6A21;)&#x3002;</li>
<li>&#x5468;&#x6D3B;&#x8DC3;&#x6570;&#xFF08;WAU&#xFF09;&#xFF1A;&#x4E00;&#x5468;&#x5185;&#x6D3B;&#x8DC3;&#x8BBE;&#x5907;&#x6570;(&#x53BB;&#x91CD;)</li>
<li>&#x6D3B;&#x8DC3;&#x5EA6;&#xFF08;DAU/MAU&#xFF09;&#xFF1A;&#x4F53;&#x73B0;&#x7528;&#x6237;&#x7684;&#x603B;&#x4F53;&#x7C98;&#x5EA6;&#xFF0C;&#x8861;&#x91CF;&#x671F;&#x95F4;&#x5185;&#x6BCF;&#x65E5;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x7684;&#x4EA4;&#x53C9;&#x91CD;&#x5408;&#x60C5;&#x51B5;</li>
</ul>
</li>
<li><p><strong>&#x65B0;&#x589E;&#x7528;&#x6237;&#x6307;&#x6807;</strong>&#xFF1A;&#x4E3B;&#x8981;&#x662F;&#x8861;&#x91CF;&#x8425;&#x9500;&#x63A8;&#x5E7F;&#x6E20;&#x9053;&#x6548;&#x679C;&#x7684;&#x6700;&#x57FA;&#x7840;&#x6307;&#x6807;</p>
<ul>
<li>&#x65E5;&#x65B0;&#x589E;&#x6CE8;&#x518C;&#x7528;&#x6237;&#x91CF;&#xFF1A;&#x7EDF;&#x8BA1;&#x4E00;&#x5929;&#x5185;&#xFF0C;&#x5373;&#x6307;&#x5B89;&#x88C5;&#x5E94;&#x7528;&#x540E;&#xFF0C;&#x6CE8;&#x518C;APP&#x7684;&#x7528;&#x6237;&#x6570;&#x3002;</li>
<li>&#x5468;&#x65B0;&#x589E;&#x6CE8;&#x518C;&#x7528;&#x6237;&#x91CF;&#xFF1A;&#x7EDF;&#x8BA1;&#x4E00;&#x5468;&#x5185;&#xFF0C;&#x5373;&#x6307;&#x5B89;&#x88C5;&#x5E94;&#x7528;&#x540E;&#xFF0C;&#x6CE8;&#x518C;APP&#x7684;&#x7528;&#x6237;&#x6570;&#x3002;</li>
<li>&#x6708;&#x65B0;&#x589E;&#x6CE8;&#x518C;&#x7528;&#x6237;&#x91CF;&#xFF1A;&#x7EDF;&#x8BA1;&#x4E00;&#x6708;&#x5185;&#xFF0C;&#x5373;&#x6307;&#x5B89;&#x88C5;&#x5E94;&#x7528;&#x540E;&#xFF0C;&#x6CE8;&#x518C;APP&#x7684;&#x7528;&#x6237;&#x6570;&#x3002;</li>
<li>&#x6CE8;&#x518C;&#x8F6C;&#x5316;&#x7387;&#xFF1A;&#x4ECE;&#x70B9;&#x51FB;&#x5E7F;&#x544A;/&#x4E0B;&#x8F7D;&#x5E94;&#x7528;&#x5230;&#x6CE8;&#x518C;&#x7528;&#x6237;&#x7684;&#x8F6C;&#x5316;&#x3002;</li>
<li>DNU&#x5360;&#x6BD4;&#xFF1A;&#x65B0;&#x589E;&#x7528;&#x6237;&#x5360;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x7684;&#x6BD4;&#x4F8B;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x8861;&#x91CF;&#x4EA7;&#x54C1;&#x5065;&#x5EB7;&#x5EA6;<ul>
<li>&#x65B0;&#x7528;&#x6237;&#x5360;&#x6BD4;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x8FC7;&#x9AD8;&#xFF0C;&#x90A3;&#x8BF4;&#x660E;&#x8BE5;APP&#x7684;&#x6D3B;&#x8DC3;&#x662F;&#x9760;&#x63A8;&#x5E7F;&#x5F97;&#x6765;</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>&#x7559;&#x5B58;&#x6307;&#x6807;</strong>&#xFF1A;&#x662F;&#x9A8C;&#x8BC1;APP&#x5BF9;&#x7528;&#x6237;&#x5438;&#x5F15;&#x529B;&#x7684;&#x91CD;&#x8981;&#x6307;&#x6807;&#x3002;&#x901A;&#x5E38;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x7528;&#x6237;&#x7559;&#x5B58;&#x7387;&#x4E0E;&#x7ADE;&#x54C1;&#x8FDB;&#x884C;&#x5BF9;&#x6BD4;&#xFF0C;&#x8861;&#x91CF;APP&#x5BF9;&#x7528;&#x6237;&#x7684;&#x5438;&#x5F15;&#x529B;</p>
<ul>
<li>&#x6B21;&#x65E5;&#x7559;&#x5B58;&#x7387;&#xFF1A;&#x67D0;&#x4E00;&#x7EDF;&#x8BA1;&#x65F6;&#x6BB5;&#x65B0;&#x589E;&#x7528;&#x6237;&#x5728;&#x7B2C;&#x4E8C;&#x5929;&#x518D;&#x6B21;&#x542F;&#x52A8;&#x5E94;&#x7528;&#x7684;&#x6BD4;&#x4F8B;</li>
<li>7&#x65E5;&#x7559;&#x5B58;&#x7387;&#xFF1A;&#x67D0;&#x4E00;&#x7EDF;&#x8BA1;&#x65F6;&#x6BB5;&#x65B0;&#x589E;&#x7528;&#x6237;&#x6570;&#x5728;&#x7B2C;7&#x5929;&#x518D;&#x6B21;&#x542F;&#x52A8;&#x8BE5;&#x5E94;&#x7528;&#x7684;&#x6BD4;&#x4F8B;&#xFF0C;14&#x65E5;&#x548C;30&#x65E5;&#x7559;&#x5B58;&#x7387;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;</li>
</ul>
</li>
<li><p><strong>&#x884C;&#x4E3A;&#x6307;&#x6807;</strong>&#xFF1A;</p>
<ul>
<li>PV&#xFF08;&#x8BBF;&#x95EE;&#x6B21;&#x6570;&#xFF0C;Page View&#xFF09;&#xFF1A;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x5185;&#x67D0;&#x4E2A;&#x9875;&#x9762;&#x7684;&#x6D4F;&#x89C8;&#x6B21;&#x6570;&#xFF0C;&#x7528;&#x6237;&#x6BCF;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x7F51;&#x9875;&#x53EF;&#x4EE5;&#x770B;&#x4F5C;&#x4E00;&#x4E2A;PV&#x3002;<ul>
<li>&#x67D0;&#x4E00;&#x4E2A;&#x7F51;&#x9875;1&#x5929;&#x4E2D;&#x88AB;&#x6253;&#x5F00;10&#x6B21;&#xFF0C;&#x90A3;&#x4E48;PV&#x4E3A;10&#x3002;</li>
</ul>
</li>
<li>UV&#xFF08;&#x8BBF;&#x95EE;&#x4EBA;&#x6570;&#xFF0C;Unique Visitor&#xFF09;&#xFF1A;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x5185;&#x8BBF;&#x95EE;&#x67D0;&#x4E2A;&#x9875;&#x9762;&#x7684;&#x4EBA;&#x6570;&#x3002;<ul>
<li>&#x67D0;&#x4E00;&#x4E2A;&#x7F51;&#x9875;1&#x5929;&#x4E2D;&#x88AB;1&#x4E2A;&#x4EBA;&#x6253;&#x5F00;&#x8FC7;10&#x6B21;&#xFF0C;&#x90A3;&#x4E48;UV&#x662F;1&#x3002;</li>
<li>&#x901A;&#x8FC7;&#x6BD4;&#x8F83;PV&#x6216;&#x8005;UV&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7528;&#x6237;&#x559C;&#x6B22;&#x4EA7;&#x54C1;&#x7684;&#x54EA;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x4E0D;&#x559C;&#x6B22;&#x54EA;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x4ECE;&#x800C;&#x6839;&#x636E;&#x7528;&#x6237;&#x884C;&#x4E3A;&#x6765;&#x4F18;&#x5316;&#x4EA7;&#x54C1;</li>
</ul>
</li>
<li>&#x8F6C;&#x5316;&#x7387;&#xFF1A;&#x8BA1;&#x7B97;&#x65B9;&#x6CD5;&#x4E0E;&#x5177;&#x4F53;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x6709;&#x5173;<ul>
<li>&#x6DD8;&#x5B9D;&#x5E97;&#x94FA;&#xFF0C;&#x8F6C;&#x5316;&#x7387;=&#x8D2D;&#x4E70;&#x4EA7;&#x54C1;&#x7684;&#x4EBA;&#x6570;&#xFF0F;&#x6240;&#x6709;&#x5230;&#x8FBE;&#x5E97;&#x94FA;&#x7684;&#x4EBA;&#x6570;<ul>
<li>&#x201C;&#x53CC;11&#x201D;&#x5F53;&#x5929;&#xFF0C;&#x6709;100&#x4E2A;&#x7528;&#x6237;&#x770B;&#x5230;&#x4E86;&#x4F60;&#x5E97;&#x94FA;&#x7684;&#x63A8;&#x5E7F;&#x4FE1;&#x606F;&#xFF0C;&#x88AB;&#x5438;&#x5F15;&#x8FDB;&#x5165;&#x5E97;&#x94FA;&#xFF0C;&#x6700;&#x540E;&#x6709;10&#x4E2A;&#x4EBA;&#x8D2D;&#x4E70;&#x4E86;&#x5E97;&#x94FA;&#x91CC;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x90A3;&#x4E48;&#x8F6C;&#x5316;&#x7387;=10&#xFF08;&#x8D2D;&#x4E70;&#x4EA7;&#x54C1;&#x7684;&#x4EBA;&#x6570;&#xFF09;/100&#xFF08;&#x5230;&#x5E97;&#x94FA;&#x7684;&#x4EBA;&#x6570;&#xFF09;=10%&#x3002;</li>
</ul>
</li>
<li>&#x5728;&#x5E7F;&#x544A;&#x4E1A;&#x52A1;&#x4E2D;&#xFF0C;&#x5E7F;&#x544A;&#x8F6C;&#x5316;&#x7387;=&#x70B9;&#x51FB;&#x5E7F;&#x544A;&#x8FDB;&#x5165;&#x63A8;&#x5E7F;&#x7F51;&#x7AD9;&#x7684;&#x4EBA;&#x6570;&#xFF0F;&#x770B;&#x5230;&#x5E7F;&#x544A;&#x7684;&#x4EBA;&#x6570;&#x3002;<ul>
<li>&#x4F8B;&#x5982;&#x7ECF;&#x5E38;&#x4F7F;&#x7528;&#x767E;&#x5EA6;&#xFF0C;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x91CC;&#x4F1A;&#x6709;&#x5E7F;&#x544A;&#xFF0C;&#x5982;&#x679C;&#x6709;100&#x4E2A;&#x4EBA;&#x770B;&#x5230;&#x4E86;&#x5E7F;&#x544A;&#xFF0C;&#x5176;&#x4E2D;&#x6709;10&#x4E2A;&#x4EBA;&#x70B9;&#x51FB;&#x5E7F;&#x544A;&#x8FDB;&#x5165;&#x63A8;&#x5E7F;&#x7F51;&#x7AD9;&#xFF0C;&#x90A3;&#x4E48;&#x8F6C;&#x5316;&#x7387;=10&#xFF08;&#x70B9;&#x51FB;&#x5E7F;&#x544A;&#x8FDB;&#x5165;&#x63A8;&#x5E7F;&#x7F51;&#x7AD9;&#x7684;&#x4EBA;&#x6570;&#xFF09;/100&#xFF08;&#x770B;&#x5230;&#x5E7F;&#x544A;&#x7684;&#x4EBA;&#x6570;&#xFF09;=10%</li>
</ul>
</li>
</ul>
</li>
<li>&#x8F6C;&#x53D1;&#x7387;&#xFF1A;&#x8F6C;&#x53D1;&#x7387;=&#x8F6C;&#x53D1;&#x67D0;&#x529F;&#x80FD;&#x7684;&#x7528;&#x6237;&#x6570;&#xFF0F;&#x770B;&#x5230;&#x8BE5;&#x529F;&#x80FD;&#x7684;&#x7528;&#x6237;&#x6570;<ul>
<li>&#x73B0;&#x5728;&#x5F88;&#x591A;&#x4EA7;&#x54C1;&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x201C;&#x75C5;&#x6BD2;&#x5F0F;&#x201D;&#x63A8;&#x5E7F;&#x90FD;&#x6709;&#x8F6C;&#x53D1;&#x529F;&#x80FD;</li>
<li>&#x516C;&#x4F17;&#x53F7;&#x63A8;&#x9001;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x7ED9;10&#x4E07;&#x7528;&#x6237;&#xFF0C;&#x8F6C;&#x53D1;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x7528;&#x6237;&#x6570;&#x662F;1&#x4E07;&#xFF0C;&#x90A3;&#x4E48;&#x8F6C;&#x53D1;&#x7387;=1&#x4E07;&#xFF08;&#x8F6C;&#x53D1;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x7528;&#x6237;&#x6570;&#xFF09;/10&#x4E07;&#xFF08;&#x770B;&#x5230;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x7528;&#x6237;&#x6570;&#xFF09;=10%</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>&#x4EA7;&#x54C1;&#x6570;&#x636E;&#x6307;&#x6807;</strong></p>
<ul>
<li>GMV &#xFF08;Gross Merchandise Volume&#xFF09;&#xFF1A;&#x6307;&#x6210;&#x4EA4;&#x603B;&#x989D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x96F6;&#x552E;&#x4E1A;&#x8BF4;&#x7684;&#x201C;&#x6D41;&#x6C34;&#x201D;<ul>
<li>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x6210;&#x4EA4;&#x603B;&#x989D;&#x5305;&#x62EC;&#x9500;&#x552E;&#x989D;&#x3001;&#x53D6;&#x6D88;&#x8BA2;&#x5355;&#x91D1;&#x989D;&#x3001;&#x62D2;&#x6536;&#x8BA2;&#x5355;&#x91D1;&#x989D;&#x548C;&#x9000;&#x8D27;&#x8BA2;&#x5355;&#x91D1;&#x989D;&#x3002;</li>
<li>&#x6210;&#x4EA4;&#x6570;&#x91CF;&#x5BF9;&#x4E8E;&#x7535;&#x5546;&#x4EA7;&#x54C1;&#x5C31;&#x662F;&#x4E0B;&#x5355;&#x7684;&#x4EA7;&#x54C1;&#x6570;&#x91CF;&#xFF0C;<strong>&#x4E0B;&#x5355;&#x5C31;&#x7B97;</strong></li>
</ul>
</li>
<li>&#x4EBA;&#x5747;&#x4ED8;&#x8D39;=&#x603B;&#x6536;&#x5165;&#xFF0F;&#x603B;&#x7528;&#x6237;&#x6570;<ul>
<li>&#x4EBA;&#x5747;&#x4ED8;&#x8D39;&#x5728;&#x6E38;&#x620F;&#x884C;&#x4E1A;&#x53EB;<strong>ARPU</strong>&#xFF08;Average Revenue Per User&#xFF09;</li>
<li>&#x7535;&#x5546;&#x884C;&#x4E1A;&#x53EB;<strong>&#x5BA2;&#x5355;&#x4EF7;</strong></li>
</ul>
</li>
<li>&#x4ED8;&#x8D39;&#x7528;&#x6237;&#x4EBA;&#x5747;&#x4ED8;&#x8D39;&#xFF08;ARPPU&#xFF0C;Average Revenue Per Paying User&#xFF09;=&#x603B;&#x6536;&#x5165;&#xFF0F;&#x4ED8;&#x8D39;&#x4EBA;&#x6570;&#xFF0C;&#x8FD9;&#x4E2A;&#x6307;&#x6807;&#x7528;&#x4E8E;&#x7EDF;&#x8BA1;&#x4ED8;&#x8D39;&#x7528;&#x6237;&#x7684;&#x5E73;&#x5747;&#x6536;&#x5165;</li>
<li>&#x4ED8;&#x8D39;&#x7387;=&#x4ED8;&#x8D39;&#x4EBA;&#x6570;&#xFF0F;&#x603B;&#x7528;&#x6237;&#x6570;&#x3002;&#x4ED8;&#x8D39;&#x7387;&#x80FD;&#x53CD;&#x6620;&#x4EA7;&#x54C1;&#x7684;&#x53D8;&#x73B0;&#x80FD;&#x529B;&#x548C;&#x7528;&#x6237;&#x8D28;&#x91CF;<ul>
<li>&#x4F8B;&#x5982;&#xFF0C;&#x67D0;App&#x4EA7;&#x54C1;&#x6709;100&#x4E07;&#x6CE8;&#x518C;&#x7528;&#x6237;&#xFF0C;&#x5176;&#x4E2D;10&#x4E07;&#x7528;&#x6237;&#x6709;&#x8FC7;&#x6D88;&#x8D39;&#xFF0C;&#x90A3;&#x4E48;&#x8BE5;&#x4EA7;&#x54C1;&#x7684;&#x4ED8;&#x8D39;&#x7387;=&#x4ED8;&#x8D39;&#x4EBA;&#x6570;&#xFF08;10&#x4E07;&#xFF09;/&#x603B;&#x7528;&#x6237;&#x6570;&#xFF08;100&#x4E07;&#xFF09;=10%&#x3002;</li>
</ul>
</li>
<li>&#x590D;&#x8D2D;&#x7387;&#x662F;&#x6307;&#x91CD;&#x590D;&#x8D2D;&#x4E70;&#x9891;&#x7387;&#xFF0C;&#x7528;&#x4E8E;&#x53CD;&#x6620;&#x7528;&#x6237;&#x7684;&#x4ED8;&#x8D39;&#x9891;&#x7387;&#x3002;<ul>
<li>&#x590D;&#x8D2D;&#x7387;&#x6307;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x5185;&#xFF0C;&#x6D88;&#x8D39;&#x4E24;&#x6B21;&#x4EE5;&#x4E0A;&#x7684;&#x7528;&#x6237;&#x6570;&#xFF0F;&#x4ED8;&#x8D39;&#x4EBA;&#x6570;</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>&#x63A8;&#x5E7F;&#x4ED8;&#x8D39;&#x6307;&#x6807;</strong>&#xFF1A;</p>
<ul>
<li><p>CPM&#xFF08;Cost Per Mille&#xFF09; &#xFF1A;&#x5C55;&#x73B0;&#x6210;&#x672C;&#xFF0C;&#x6216;&#x8005;&#x53EB;&#x5343;&#x4EBA;&#x5C55;&#x73B0;&#x6210;&#x672C;</p>
<ul>
<li><p>&#x5E7F;&#x544A;&#x6BCF;&#x5C55;&#x73B0;&#x7ED9;&#x4E00;&#x5343;&#x4E2A;&#x4EBA;&#x6240;&#x9700;&#x82B1;&#x8D39;&#x7684;&#x6210;&#x672C;&#x3002;&#x6309;CPM&#x8BA1;&#x8D39;&#x6A21;&#x5F0F;&#x7684;&#x5E7F;&#x544A;&#xFF0C;&#x53EA;&#x770B;&#x5C55;&#x73B0;&#x91CF;&#xFF0C;&#x6309;&#x5C55;&#x73B0;&#x91CF;&#x6536;&#x8D39;&#xFF0C;&#x4E0D;&#x7BA1;&#x70B9;&#x51FB;&#x3001;&#x4E0B;&#x8F7D;&#x3001;&#x6CE8;&#x518C;&#x3002;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;APP&#x542F;&#x52A8;&#x5F00;&#x5C4F;&#xFF0C;&#x89C6;&#x9891;&#x8D34;&#x7247;&#x3001;&#x95E8;&#x6237;banner&#x7B49;&#x975E;&#x5E38;&#x4F18;&#x8D28;&#x7684;&#x5E7F;&#x544A;&#x4F4D;&#x901A;&#x5E38;&#x91C7;&#x7528;CPM&#x6536;&#x8D39;&#x6A21;&#x5F0F;&#x3002;</p>
<p><img src="images/chapter08-01.gif" alt="img"></p>
</li>
</ul>
</li>
<li><p>CPC&#xFF08;Cost Per Click&#xFF09; &#x70B9;&#x51FB;&#x6210;&#x672C;&#xFF0C;&#x5373;&#x6BCF;&#x4EA7;&#x751F;&#x4E00;&#x6B21;&#x70B9;&#x51FB;&#x6240;&#x82B1;&#x8D39;&#x7684;&#x6210;&#x672C;</p>
<ul>
<li>&#x5178;&#x578B;&#x7684;&#x6309;&#x70B9;&#x51FB;&#x6536;&#x8D39;&#x7684;&#x6A21;&#x5F0F;&#x5C31;&#x662F;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x7684;&#x7ADE;&#x4EF7;&#x6392;&#x540D;&#xFF0C;&#x5982;&#x8C37;&#x6B4C;&#x3001;&#x767E;&#x5EA6;&#x3001;360&#x3001;&#x641C;&#x72D7;&#x7684;&#x7ADE;&#x4EF7;&#x6392;&#x540D;&#x3002;&#x5728;CPC&#x7684;&#x6536;&#x8D39;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x4E0D;&#x7BA1;&#x5E7F;&#x544A;&#x5C55;&#x73B0;&#x4E86;&#x591A;&#x5C11;&#x6B21;&#xFF0C;&#x53EA;&#x8981;&#x4E0D;&#x4EA7;&#x751F;&#x70B9;&#x51FB;&#xFF0C;&#x5E7F;&#x544A;&#x4E3B;&#x662F;&#x4E0D;&#x7528;&#x4ED8;&#x8D39;&#x7684;&#x3002;&#x53EA;&#x6709;&#x4EA7;&#x751F;&#x4E86;&#x70B9;&#x51FB;&#xFF0C;&#x5E7F;&#x544A;&#x4E3B;&#x624D;&#x6309;&#x70B9;&#x51FB;&#x6570;&#x91CF;&#x8FDB;&#x884C;&#x4ED8;&#x8D39;</li>
</ul>
<p><img src="images/chapter08-02.png" alt="img"></p>
</li>
<li><p>&#x6309;&#x6295;&#x653E;&#x7684;&#x5B9E;&#x9645;&#x6548;&#x679C;&#x4ED8;&#x8D39;&#xFF08;CPA&#xFF0C;Cost Per Action&#xFF09;&#x5305;&#x62EC;&#xFF1A;</p>
<ul>
<li>CPD&#xFF08;Cost Per Download&#xFF09;&#xFF1A;&#x6309;App&#x7684;&#x4E0B;&#x8F7D;&#x6570;&#x4ED8;&#x8D39;&#xFF1B;</li>
<li>CPI&#xFF08;Cost Per Install&#xFF09;&#xFF1A;&#x6309;&#x5B89;&#x88C5;App&#x7684;&#x6570;&#x91CF;&#x4ED8;&#x8D39;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4E0B;&#x8F7D;&#x540E;&#x6709;&#x591A;&#x5C11;&#x4EBA;&#x5B89;&#x88C5;&#x4E86;App&#xFF1B;</li>
<li>CPS&#xFF08;Cost Per Sales&#xFF09;&#xFF1A;&#x6309;&#x5B8C;&#x6210;&#x8D2D;&#x4E70;&#x7684;&#x7528;&#x6237;&#x6570;&#x6216;&#x8005;&#x9500;&#x552E;&#x989D;&#x6765;&#x4ED8;&#x8D39;&#x3002;</li>
</ul>
</li>
</ul>
</li>
<li><p>&#x4E0D;&#x540C;&#x7684;&#x4E1A;&#x52A1;&#x53EF;&#x80FD;&#x5173;&#x5FC3;&#x7684;&#x6307;&#x6807;&#x4E0D;&#x5C3D;&#x76F8;&#x540C;</p>
</li>
</ul>
<h3 id="13-&#x5982;&#x4F55;&#x9009;&#x62E9;&#x6307;&#x6807;">1.3 &#x5982;&#x4F55;&#x9009;&#x62E9;&#x6307;&#x6807;</h3>
<ul>
<li>&#x597D;&#x7684;&#x6570;&#x636E;&#x6307;&#x6807;&#x5E94;&#x8BE5;&#x662F;&#x6BD4;&#x4F8B;<ul>
<li>&#x516C;&#x4F17;&#x53F7;&#x6253;&#x5F00;&#x6B21;&#x65E5;&#x6587;&#x7AE0;&#x7528;&#x6237;&#x6570;&#xFF08;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x6570;&#xFF09;&#x662F;1&#x4E07;&#xFF0C;&#x8BA9;&#x4F60;&#x5206;&#x6790;&#x516C;&#x4F17;&#x53F7;&#x662F;&#x5426;&#x6709;&#x95EE;&#x9898;&#x3002;&#x8FD9;&#x5176;&#x5B9E;&#x662F;&#x770B;&#x4E0D;&#x51FA;&#x4EC0;&#x4E48;&#x7684;</li>
<li>&#x603B;&#x7C89;&#x4E1D;&#x91CF;&#x662F;10&#x4E07;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x51FA;&#x6B21;&#x65E5;&#x6D3B;&#x8DC3;&#x7387;=1&#x4E07;&#xFF08;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x6570;&#xFF09;/10&#x4E07;&#xFF08;&#x603B;&#x7528;&#x6237;&#x6570;&#xFF09;=10%</li>
<li>&#x548C;&#x884C;&#x4E1A;&#x5E73;&#x5747;&#x6D3B;&#x8DC3;&#x7387;&#xFF08;&#x516C;&#x4F17;&#x53F7;&#x7684;&#x5E73;&#x5747;&#x6D3B;&#x8DC3;&#x7387;&#x662F;5%&#xFF09;&#x6BD4;&#x8F83;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x8FD9;&#x4E2A;&#x516C;&#x4F17;&#x53F7;&#x6D3B;&#x8DC3;&#x7387;&#x5F88;&#x9AD8;&#x3002;</li>
</ul>
</li>
<li>&#x6839;&#x636E;&#x76EE;&#x524D;&#x7684;&#x4E1A;&#x52A1;&#x91CD;&#x70B9;&#xFF0C;&#x627E;&#x5230;&#x5317;&#x6781;&#x661F;&#x6307;&#x6807;<ul>
<li>&#x5728;&#x5B9E;&#x9645;&#x4E1A;&#x52A1;&#x4E2D;&#xFF0C;&#x5317;&#x6781;&#x661F;&#x6307;&#x6807;&#x4E00;&#x65E6;&#x786E;&#x5B9A;&#xFF0C;&#x53EF;&#x4EE5;&#x50CF;&#x5929;&#x7A7A;&#x4E2D;&#x7684;&#x5317;&#x6781;&#x661F;&#x4E00;&#x6837;&#xFF0C;&#x6307;&#x5F15;&#x7740;&#x5168;&#x516C;&#x53F8;&#x5411;&#x7740;&#x540C;&#x4E00;&#x4E2A;&#x65B9;&#x5411;&#x52AA;&#x529B;</li>
<li>&#x6839;&#x636E;&#x76EE;&#x524D;&#x7684;&#x4E1A;&#x52A1;&#x91CD;&#x70B9;&#x5BFB;&#x627E;&#x5317;&#x6781;&#x661F;&#x6307;&#x6807;&#xFF1A;<ul>
<li>&#x5317;&#x6781;&#x661F;&#x6307;&#x6807;&#x6CA1;&#x6709;&#x552F;&#x4E00;&#x6807;&#x51C6;&#x3002;&#x4E0D;&#x540C;&#x7684;&#x516C;&#x53F8;&#x5173;&#x6CE8;&#x7684;&#x4E1A;&#x52A1;&#x91CD;&#x70B9;&#x4E0D;&#x4E00;&#x6837;</li>
<li>&#x540C;&#x4E00;&#x5BB6;&#x516C;&#x53F8;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x53D1;&#x5C55;&#x9636;&#x6BB5;&#xFF0C;&#x4E1A;&#x52A1;&#x91CD;&#x70B9;&#x4E5F;&#x4E0D;&#x4E00;&#x6837;</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="2-pandas&#x8BA1;&#x7B97;&#x6307;&#x6807;&#x6848;&#x4F8B;">2. Pandas&#x8BA1;&#x7B97;&#x6307;&#x6807;&#x6848;&#x4F8B;</h2>
<p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C06;&#x4F7F;&#x7528;&#x5728;&#x7EBF;&#x96F6;&#x552E;&#x7684;&#x6D41;&#x6C34;&#x6570;&#x636E;&#x8BA1;&#x7B97;&#x76F8;&#x5173;&#x6307;&#x6807;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x6765;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x8981;&#x7528;&#x5230;&#x7684;&#x6570;&#x636E;&#xFF1A;</p>
<p><img src="images/chapter08-03.png"></p>
<ul>
<li><p>&#x6570;&#x636E;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x67D0;&#x7535;&#x5546;&#x7F51;&#x7AD9;&#x4ECE;2009&#x5E74;12&#x6708;&#x5230;2011&#x5E74;12&#x6708;&#x4E24;&#x5E74;&#x95F4;&#x7684;&#x9500;&#x552E;&#x6D41;&#x6C34;&#xFF0C;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x4EE3;&#x8868;&#x4E86;&#x4E00;&#x6761;&#x4EA4;&#x6613;&#x8BB0;&#x5F55;&#xFF0C;&#x5305;&#x542B;&#x5982;&#x4E0B;&#x5B57;&#x6BB5;&#xFF1A;</p>
<p><code>Invoice</code>: &#x53D1;&#x7968;&#x53F7;&#x7801;</p>
<p><code>StockCode</code>: &#x5546;&#x54C1;&#x7F16;&#x7801;</p>
<p><code>Description</code>: &#x5546;&#x54C1;&#x7B80;&#x4ECB;</p>
<p><code>Quantity</code>: &#x8D2D;&#x4E70;&#x6570;&#x91CF;</p>
<p><code>InvoiceDate</code>: &#x53D1;&#x7968;&#x65E5;&#x671F;</p>
<p><code>Price</code>: &#x5546;&#x54C1;&#x5355;&#x4EF7;</p>
<p><code>Customer ID</code>: &#x7528;&#x6237;ID</p>
<p><code>Country</code>: &#x7528;&#x6237;&#x6240;&#x5728;&#x56FD;&#x5BB6;</p>
</li>
</ul>
<p>&#x6211;&#x4EEC;&#x5C06;&#x8981;&#x8BA1;&#x7B97;&#x5982;&#x4E0B;&#x6307;&#x6807;&#xFF1A;</p>
<ul>
<li><p>&#x6708;&#x9500;&#x552E;&#x91D1;&#x989D;(&#x6708;GMV)  &#xFF1A; &#x5BF9;&#x6D41;&#x6C34;&#x6570;&#x636E;&#x6309;&#x6708;&#x5206;&#x7EC4;&#xFF0C; &#x5C06;&#x6BCF;&#x4E2A;&#x6708;&#x7684;&#x6BCF;&#x7B14;&#x4EA4;&#x6613;&#x6C47;&#x603B;&#xFF0C; &#x5BF9;&#x9500;&#x552E;&#x91D1;&#x989D;&#x6C42;&#x548C;</p>
<ul>
<li>&#x5BF9;&#x4E8E;&#x96F6;&#x552E;&#x4E1A;&#x52A1;&#x800C;&#x8A00;&#xFF0C; &#x603B;&#x9500;&#x552E;&#x91D1;&#x989D;&#x662F;&#x6700;&#x91CD;&#x8981;&#x7684;&#x6307;&#x6807;&#xFF0C; &#x6211;&#x4EEC;&#x79F0;&#x4E4B;&#x4E3A;<strong>&#x5317;&#x6781;&#x661F;&#x6307;&#x6807;</strong></li>
<li>GMV&#xFF08;&#x5168;&#x79F0;Gross Merchandise Volume&#xFF09;&#xFF0C;&#x5373;&#x5546;&#x54C1;&#x4EA4;&#x6613;&#x603B;&#x989D;&#xFF0C;&#x591A;&#x7528;&#x4E8E;&#x7535;&#x5546;&#x884C;&#x4E1A;&#xFF0C;&#x4E00;&#x822C;&#x5305;&#x542B;&#x62CD;&#x4E0B;&#x672A;&#x652F;&#x4ED8;&#x8BA2;&#x5355;&#x91D1;&#x989D;&#x3002;</li>
</ul>
</li>
<li><p>&#x6708;&#x9500;&#x552E;&#x989D;&#x73AF;&#x6BD4;&#xFF1A;&#x5F53;&#x524D;&#x6708;&#x9500;&#x552E;&#x91D1;&#x989D;/&#x4E0A;&#x4E00;&#x4E2A;&#x6708;&#x7684;&#x9500;&#x552E;&#x91D1;&#x989D; * 100%</p>
<p>&#x6708;&#x9500;&#x552E;&#x989D;&#x73AF;&#x6BD4;&#x53D1;&#x751F;&#x6CE2;&#x52A8;&#x5267;&#x70C8;&#x65F6;&#xFF0C;&#x4E3A;&#x4E86;&#x627E;&#x5230;&#x5177;&#x4F53;&#x539F;&#x56E0;&#x6211;&#x4EEC;&#x8FDB;&#x4E00;&#x6B65;&#x5C06;&#x6838;&#x5FC3;&#x7684;&#x6708;&#x9500;&#x91CF;&#x6307;&#x6807;&#x62C6;&#x89E3;:</p>
<p>&#x6708;&#x9500;&#x91CF; = <strong>&#x6708;&#x5747;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x6570;</strong> * <strong>&#x6708;&#x5747;&#x7528;&#x6237;&#x6D88;&#x8D39;&#x91D1;&#x989D;</strong></p>
</li>
</ul>
<p>&#x4E3A;&#x4E86;&#x8861;&#x91CF;&#x5F53;&#x524D;&#x4E1A;&#x52A1;&#x7684;&#x5065;&#x5EB7;&#x7A0B;&#x5EA6;&#xFF0C; &#x6211;&#x4EEC;&#x8FD8;&#x4F1A;&#x8BA1;&#x7B97;&#x5982;&#x4E0B;&#x6307;&#x6807;</p>
<ul>
<li>&#x65B0;&#x7528;&#x6237;&#x5360;&#x6BD4;&#xFF1A;&#x65B0;&#x8001;&#x7528;&#x6237;</li>
<li>&#x6FC0;&#x6D3B;&#x7387;</li>
<li>&#x6708;&#x7559;&#x5B58;&#x7387;</li>
</ul>
<p>&#x5317;&#x6781;&#x661F;&#x6307;&#x6807;&#x662F;&#x6700;&#x80FD;&#x4F53;&#x73B0;&#x60A8;&#x7684;&#x4EA7;&#x54C1;&#x4E3A;&#x5BA2;&#x6237;&#x63D0;&#x4F9B;&#x7684;&#x6838;&#x5FC3;&#x4EF7;&#x503C;&#x7684;&#x5355;&#x4E00;&#x6307;&#x6807;&#x3002;&#x8BE5;&#x6307;&#x6807;&#x53D6;&#x51B3;&#x4E8E;&#x6211;&#x4EEC;&#x4EA7;&#x54C1;&#x3001;&#x5B9A;&#x4F4D;&#x3001;&#x76EE;&#x6807;&#x7B49;&#x3002; </p>
<ul>
<li>Airbnb &#x7684; North Star Metric &#x662F;&#x9884;&#x8BA2;&#x591C;&#x6570;&#xFF0C;&#x800C;&#x5BF9;&#x4E8E; Facebook&#xFF0C;&#x5B83;&#x662F;&#x6BCF;&#x65E5;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x3002;</li>
<li>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x5728;&#x7EBF;&#x96F6;&#x552E;&#x7684;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x96C6;&#x3002; &#x5BF9;&#x4E8E;&#x5728;&#x7EBF;&#x96F6;&#x552E;&#xFF0C;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x6BCF;&#x6708;&#x6536;&#x5165;<strong>(&#x6708;GMV)</strong> &#x4F5C;&#x4E3A;&#x5317;&#x6781;&#x661F;&#x6307;&#x6807;</li>
</ul>
<h3 id="21-&#x5BFC;&#x5165;&#x6A21;&#x5757;vs&#x52A0;&#x8F7D;&#x6570;&#x636E;">2.1 &#x5BFC;&#x5165;&#x6A21;&#x5757;vs&#x52A0;&#x8F7D;&#x6570;&#x636E;</h3>
<pre><code class="lang-python"><span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime<span class="token punctuation">,</span> timedelta
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token operator">%</span>matplotlib inline
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token comment"># &#x8BBE;&#x7F6E;&#x4E2D;&#x6587;&#x5B57;&#x4F53;</span>
plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">&apos;font.sans-serif&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&apos;SimHei&apos;</span>

<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns

data_1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span><span class="token string">&apos;data/online_retail_II.xlsx&apos;</span><span class="token punctuation">,</span> 
                       sheet_name<span class="token operator">=</span><span class="token string">&apos;Year 2009-2010&apos;</span><span class="token punctuation">,</span> engine<span class="token operator">=</span><span class="token string">&apos;openpyxl&apos;</span><span class="token punctuation">)</span>
data_2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span><span class="token string">&apos;data/online_retail_II.xlsx&apos;</span><span class="token punctuation">,</span> 
                       sheet_name<span class="token operator">=</span><span class="token string">&apos;Year 2010-2011&apos;</span><span class="token punctuation">,</span> engine<span class="token operator">=</span><span class="token string">&apos;openpyxl&apos;</span><span class="token punctuation">)</span>
</code></pre>
<p>&#x6570;&#x636E;&#x5728;Excel&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5206;&#x522B;&#x4FDD;&#x5B58;&#x5728;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;Sheet&#x4E2D;&#xFF0C;&#x5206;&#x522B;&#x8BB0;&#x5F55;&#x4E86;2009-2010&#x5E74;&#x548C;2010-2011&#x7684;&#x9500;&#x552E;&#x8BB0;&#x5F55;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C06;&#x5B83;&#x4EEC;&#x5408;&#x5E76;&#x5230;&#x4E00;&#x4E2A;DataFrame&#x4E2D;</p>
<pre><code class="lang-python">data <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>data_1<span class="token punctuation">,</span> data_2<span class="token punctuation">]</span><span class="token punctuation">,</span> ignore_index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-04.png" align="left"></p>
<pre><code>data.info()
</code></pre><p><img src="images/chapter08-05.png" align="left"></p>
<ul>
<li><p>&#x4ECE;&#x6570;&#x636E;&#x4E2D;&#x770B;&#x51FA;&#xFF0C;&#x4E00;&#x5171;&#x6709;1067371 &#x6761;&#x6570;&#x636E;&#xFF0C;&#x8BB0;&#x5F55;&#x4E86;&#x4EA4;&#x6613;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#xFF0C;&#x4E0E;&#x540E;&#x7EED;&#x6307;&#x6807;&#x8BA1;&#x7B97;&#x76F8;&#x5173;&#x7684;&#x5B57;&#x6BB5;</p>
<ul>
<li>CustomerID  &#x7528;&#x6237;ID</li>
<li>UnitPrice &#x5546;&#x54C1;&#x5355;&#x4EF7;</li>
<li>Quantity &#x5546;&#x54C1;&#x8D2D;&#x4E70;&#x6570;&#x91CF;</li>
<li>InvoiceDate &#x8D2D;&#x4E70;&#x65E5;&#x671F;</li>
</ul>
<p>&#x5229;&#x7528;&#x4E0A;&#x9762;&#x7684;&#x5B57;&#x6BB5;&#x6211;&#x4EEC;&#x5148;&#x8BA1;&#x7B97;&#x6211;&#x4EEC;&#x7684;&#x5317;&#x6781;&#x661F;&#x6307;&#x6807;&#xFF0C;&#x6708;&#x6536;&#x5165;</p>
</li>
</ul>
<h3 id="22-&#x6570;&#x636E;&#x6E05;&#x6D17;">2.2 &#x6570;&#x636E;&#x6E05;&#x6D17;</h3>
<p>&#x6574;&#x7406;&#x6570;&#x636E;&#xFF0C;&#x5C06;&#x540E;&#x7EED;&#x7528;&#x4E0D;&#x5230;&#x7684;&#x5B57;&#x6BB5;Country&#x53BB;&#x6389;, &#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x5927;&#x5BB6;&#x5BF9;&#x4EE3;&#x7801;&#x7684;&#x7406;&#x89E3;&#x628A;&#x5217;&#x540D;&#x6362;&#x4E3A;&#x4E2D;&#x6587;</p>
<pre><code class="lang-python">retail_data <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&apos;Invoice&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;StockCode&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Description&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Quantity&apos;</span><span class="token punctuation">,</span> 
                    <span class="token string">&apos;InvoiceDate&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Price&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Customer ID&apos;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
retail_data<span class="token punctuation">.</span>columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&apos;&#x8BA2;&#x5355;&#x7F16;&#x53F7;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x5546;&#x54C1;&#x7F16;&#x53F7;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x5546;&#x54C1;&#x63CF;&#x8FF0;&apos;</span><span class="token punctuation">,</span>
                       <span class="token string">&apos;&#x8D2D;&#x4E70;&#x6570;&#x91CF;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x8D2D;&#x4E70;&#x65F6;&#x95F4;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x5546;&#x54C1;&#x5355;&#x4EF7;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">]</span>
retail_data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-06.png" alt="img"></p>
<pre><code class="lang-python">retail_data<span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x65F6;&#x95F4;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>describe<span class="token punctuation">(</span>datetime_is_numeric<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-07.png" alt="img"></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x4ECE;2009&#x5E74;12&#x6708;&#x5230;2011&#x5E74;12&#x6708;</p>
<pre><code class="lang-python"><span class="token comment"># &#x67E5;&#x770B;&#x6570;&#x636E;&#x5206;&#x5E03;&#x60C5;&#x51B5;</span>
retail_data<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-08.png" align="left"></p>
<p>&#x53D1;&#x73B0;&#x8D2D;&#x4E70;&#x6570;&#x91CF;&#x548C;&#x5546;&#x54C1;&#x5355;&#x4EF7;&#x6700;&#x5C0F;&#x503C;&#x5747;&#x5C0F;&#x4E8E;&#x96F6;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x8BA1;&#x7B97;GMV&#x4E4B;&#x7C7B;&#x7684;&#x6307;&#x6807;&#x65F6;&#x90FD;&#x4E0D;&#x7EDF;&#x8BA1;&#x9000;&#x8D27;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5904;&#x7406;&#x8FD9;&#x90E8;&#x5206;&#x6570;&#x636E;</p>
<pre><code class="lang-python">retail_data<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x6570;&#x91CF;&lt;0&apos;</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-09.png" alt="img"></p>
<ul>
<li>&#x901A;&#x8FC7;dataframe &#x7684;query API&#x67E5;&#x8BE2; &#x8D2D;&#x4E70;&#x6570;&#x91CF;&lt;0 &#x548C; &#x5546;&#x54C1;&#x5355;&#x4EF7;&lt;0&#x7684;&#x8BA2;&#x5355;</li>
<li>&#x8D2D;&#x4E70;&#x6570;&#x91CF;&lt; 0 &#x8BA2;&#x5355;&#x7684;&#x53D1;&#x7968;&#x53F7;&#x7801;&#x90FD;&#x662F;&#x4EE5;C&#x5F00;&#x5934;&#xFF0C;&#x5C5E;&#x4E8E;&#x6709;&#x9000;&#x8D27;&#x7684;&#x8BA2;&#x5355;</li>
</ul>
<pre><code class="lang-python">retail_data<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">&apos;&#x5546;&#x54C1;&#x5355;&#x4EF7;&lt;0&apos;</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-10.png" alt="img"></p>
<ul>
<li>price&#x5C0F;&#x4E8E;&#x96F6;&#x7684;&#x662F;&#x574F;&#x8D26;&#x8C03;&#x6574;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x8D2D;&#x4E70;&#x6570;&#x91CF;&lt;0&#x548C;&#x5546;&#x54C1;&#x5355;&#x4EF7;&lt;0&#x7684;&#x8BA2;&#x5355;&#x5220;&#x9664;</li>
</ul>
<pre><code class="lang-python">retail_data_clean <span class="token operator">=</span> retail_data<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x6570;&#x91CF;&gt;0 &amp; &#x5546;&#x54C1;&#x5355;&#x4EF7; &gt;0&apos;</span><span class="token punctuation">)</span>
retail_data_clean<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-11.png" alt="img"></p>
<p>&#x8FDB;&#x4E00;&#x6B65;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;<code>&#x5546;&#x54C1;&#x7F16;&#x53F7;</code>&#x5217;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;<code>&#x5546;&#x54C1;&#x7F16;&#x53F7;</code>&#x5217;&#x4E2D;&#xFF0C;&#x6709;&#x7684;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5B57;&#x6BCD;&#x6BD4;&#x5982;M&#xFF0C;B&#xFF0C;&#x8FD8;&#x6709;&#x7684;&#x662F;5&#x4F4D;&#x6216;&#x8005;6&#x4F4D;&#x7684;&#x7F16;&#x53F7;&#xFF0C;&#x8FD9;&#x91CC; <code>&#x5546;&#x54C1;&#x7F16;&#x53F7;</code>&#x76F8;&#x5F53;&#x4E8E; SKU</p>
<ul>
<li><p>SKU=Stock Keeping Unit&#xFF08;&#x5E93;&#x5B58;&#x91CF;&#x5355;&#x4F4D;&#xFF09;&#x3002;&#x5373;&#x5E93;&#x5B58;&#x8FDB;&#x51FA;&#x8BA1;&#x91CF;&#x7684;&#x57FA;&#x672C;&#x5355;&#x5143;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x4EE5;&#x4EF6;&#xFF0C;&#x76D2;&#xFF0C;&#x6258;&#x76D8;&#x7B49;&#x4E3A;&#x5355;&#x4F4D;</p>
<ul>
<li>SKU&#x662F;&#x7528;&#x6765;&#x5B9A;&#x4EF7;&#x548C;&#x7BA1;&#x7406;&#x5E93;&#x5B58;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x4EA7;&#x54C1;&#x6709;&#x5F88;&#x591A;&#x989C;&#x8272;&#xFF0C;&#x5F88;&#x591A;&#x914D;&#x7F6E;&#xFF0C;&#x6BCF;&#x4E2A;&#x989C;&#x8272;&#x548C;&#x914D;&#x7F6E;&#x7684;&#x7EC4;&#x5408;&#x90FD;&#x4F1A;&#x5F62;&#x6210;&#x65B0;&#x7684;&#x4EA7;&#x54C1;&#xFF0C;&#x8FD9;&#x65F6;&#x5C31;&#x4EA7;&#x751F;&#x5F88;&#x591A;SKU</li>
<li>sku&#x5728;&#x96F6;&#x552E;&#x884C;&#x4E1A;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x5E38;&#x7528;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x5982;&#x670D;&#x88C5;&#xFF0C;&#x540C;&#x6B3E;&#x4E0D;&#x540C;&#x5C3A;&#x7801;&#x4E0D;&#x540C;&#x8272;&#x90FD;&#x662F;&#x72EC;&#x7ACB;&#x7684;SKU&#xFF0C;&#x9700;&#x8981;&#x6709;&#x72EC;&#x7ACB;&#x7684;&#x6761;&#x5F62;&#x7801;&#xFF0C;&#x72EC;&#x7ACB;&#x7684;&#x5E93;&#x5B58;&#x7BA1;&#x7406;&#x7B49;</li>
</ul>
</li>
<li><p>&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x4E0B;&#x8FD9;&#x4E9B;&#x7279;&#x6B8A;&#x7684;SKU&#x90FD;&#x6709;&#x54EA;&#x4E9B;&#xFF0C;&#x90FD;&#x4EE3;&#x8868;&#x4EC0;&#x4E48;&#x610F;&#x601D;</p>
</li>
</ul>
<pre><code class="lang-python"><span class="token comment"># &#x8FC7;&#x6EE4;&#x957F;&#x5EA6;&lt;5&#x7684;&#x5185;&#x5BB9;</span>
retail_data_clean<span class="token punctuation">[</span>retail_data_clean<span class="token punctuation">.</span>StockCode<span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&apos;&#x5546;&#x54C1;&#x7F16;&#x53F7;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-12.png" alt="img"></p>
<pre><code class="lang-python"><span class="token comment"># &#x8FC7;&#x6EE4;&#x957F;&#x5EA6;&gt;6&#x7684;&#x5185;&#x5BB9;</span>
retail_data_clean<span class="token punctuation">[</span>retail_data_clean<span class="token punctuation">.</span>StockCode<span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&apos;&#x5546;&#x54C1;&#x7F16;&#x53F7;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-13.png" alt="img"></p>
<p>&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x7279;&#x6B8A;&#x7684;SKU&#x6709;&#x5982;&#x4E0B;&#x8FD9;&#x4E9B;&#xFF0C;&#x6211;&#x4EEC;&#x8FDB;&#x4E00;&#x6B65;&#x6253;&#x5370;&#x4E00;&#x4E0B;&#x4ED6;&#x4EEC;&#x7684;&#x63CF;&#x8FF0;&#x4FE1;&#x606F;</p>
<pre><code class="lang-python">special_sku <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&apos;POST&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;DOT&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;M&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;C2&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;PADS&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;m&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;D&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;S&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;B&apos;</span><span class="token punctuation">,</span> 
               <span class="token string">&apos;BANK CHARGES&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;TEST001&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;TEST002&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;ADJUST2&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;AMAZONFEE&apos;</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> special_sku<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token string">&apos;=&gt;&apos;</span><span class="token operator">+</span>retail_data_clean<span class="token punctuation">[</span>retail_data_clean<span class="token punctuation">[</span><span class="token string">&apos;&#x5546;&#x54C1;&#x7F16;&#x53F7;&apos;</span><span class="token punctuation">]</span><span class="token operator">==</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&apos;&#x5546;&#x54C1;&#x63CF;&#x8FF0;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-14.png" alt="img"></p>
<p>POST&#x3001;DOT&#x3001;C2 &#x5C5E;&#x4E8E;&#x8FD0;&#x8D39;&#xFF0C;PADS&#x3001;m&#x548C;M&#x5C5E;&#x4E8E;&#x914D;&#x4EF6;&#xFF0C;B&#x5C5E;&#x4E8E;&#x574F;&#x8D26;&#x8C03;&#x6574;&#xFF0C;AMAZONFEE &#x548C; Bank Charges &#x5C5E;&#x4E8E;&#x6E20;&#x9053;&#x8D39;&#x7528;&#xFF0C;TEST001&#xFF0C;TEST002&#x5C5E;&#x4E8E;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x4E0B;&#x8FD9;&#x4E9B;&#x7279;&#x6B8A;&#x7684;SKU&#x90FD;&#x6709;&#x54EA;&#x4E9B;&#xFF0C;&#x90FD;&#x4EE3;&#x8868;&#x4EC0;&#x4E48;&#x610F;&#x601D;&#xFF0C;&#x7ECF;&#x8FC7;&#x4E0E;&#x4E1A;&#x52A1;&#x90E8;&#x95E8;&#x6C9F;&#x901A;&#x5F97;&#x77E5;&#x5982;&#x4E0B;&#x7279;&#x6B8A;SKU</p>
<ul>
<li><code>POST</code> &#x3001;<code>DOT</code>&#x3001;<code>C2</code> : &#x8FD0;&#x8D39;</li>
<li><code>PADS</code>&#x3001;<code>m</code> &#x3001;<code>M</code> : &#x914D;&#x4EF6;</li>
<li><code>B</code>:  &#x574F;&#x8D26;&#x8C03;&#x6574;</li>
<li><code>BANK CHARGES</code>&#x3001;<code>AMAZONFEE</code>: &#x6E20;&#x9053;&#x8D39;&#x7528;</li>
<li><code>TEST001</code>&#x3001;<code>TEST002</code>&#xFF1A;&#x6D4B;&#x8BD5;&#x6570;&#x636E;</li>
</ul>
<p>&#x7531;&#x4E8E;&#x8FD0;&#x8D39;&#x3001;&#x5305;&#x88C5;&#x8D39;&#x3001;&#x94F6;&#x884C;&#x7684;&#x8D39;&#x7528;<strong>&#x4E00;&#x822C;&#x90FD;&#x8BA1;&#x5165;&#x5230;GMV&#x4E2D;</strong>&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x628A;[&apos;B&apos;, &apos;TEST001&apos;, &apos;TEST002&apos;] &#x8FD9;&#x51E0;&#x4E2A;&#x53BB;&#x6389;</p>
<pre><code class="lang-python">retail_data_clean <span class="token operator">=</span> retail_data_clean<span class="token punctuation">[</span><span class="token operator">~</span>retail_data_clean<span class="token punctuation">[</span><span class="token string">&apos;&#x5546;&#x54C1;&#x7F16;&#x53F7;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;B&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;TEST001&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;TEST002&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
retail_data_clean<span class="token punctuation">.</span>shape
<span class="token comment"># &#x7ED3;&#x679C;</span>
<span class="token punctuation">(</span><span class="token number">1041660</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="23-&#x8BA1;&#x7B97;&#x6708;&#x4EA4;&#x6613;&#x989D;&#x6708;gmv">2.3 &#x8BA1;&#x7B97;&#x6708;&#x4EA4;&#x6613;&#x989D;(&#x6708;GMV)</h3>
<p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x7528;&#x6765;&#x8868;&#x793A;&#x4EA4;&#x6613;&#x7684;&#x6708;&#x4EFD;:  </p>
<pre><code class="lang-python">retail_data_clean<span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> retail_data_clean<span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x65F6;&#x95F4;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">&apos;datetime64[M]&apos;</span><span class="token punctuation">)</span>
retail_data_clean
</code></pre>
<p><img src="images/chapter08-16.png" alt="img"></p>
<p>&#x7528;&#x5355;&#x4EF7;*&#x6570;&#x91CF;&#x8BA1;&#x7B97;&#x6BCF;&#x6761;&#x4EA4;&#x6613;&#x8BB0;&#x5F55;&#x7684;&#x4EA4;&#x6613;&#x91D1;&#x989D;&#xFF0C;&#x7136;&#x540E;&#x6309;&#x7167;&#x6708;&#x4EFD;&#x5206;&#x7EC4;&#xFF0C;&#x8BA1;&#x7B97;&#x6BCF;&#x6708;&#x7684;&#x603B;&#x6536;&#x5165;</p>
<pre><code class="lang-python">retail_data_clean<span class="token punctuation">[</span><span class="token string">&apos;&#x91D1;&#x989D;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> retail_data_clean<span class="token punctuation">[</span><span class="token string">&apos;&#x5546;&#x54C1;&#x5355;&#x4EF7;&apos;</span><span class="token punctuation">]</span> <span class="token operator">*</span> retail_data_clean<span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x6570;&#x91CF;&apos;</span><span class="token punctuation">]</span>
retail_data_clean
</code></pre>
<p><img src="images/chapter08-17.png" alt=""></p>
<p>&#x5C06;&#x6BCF;&#x7B14;&#x4EA4;&#x6613;&#x6309;&#x7167;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#xFF0C;&#x8BA1;&#x7B97;&#x6BCF;&#x6708;&#x7684;&#x603B;&#x4EA4;&#x6613;&#x91D1;&#x989D;(&#x6708;GMV) </p>
<pre><code class="lang-python">gmv_m <span class="token operator">=</span> retail_data_clean<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">,</span> as_index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&apos;&#x91D1;&#x989D;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
gmv_m
</code></pre>
<p><img src="images/chapter08-18.png" alt=""></p>
<p>&#x4F7F;&#x7528;pandas&#xFF0C;&#x5BF9;&#x7ED3;&#x679C;&#x505A;&#x53EF;&#x89C6;&#x5316;</p>
<pre><code class="lang-python"><span class="token comment"># &#x521B;&#x5EFA;&#x753B;&#x5E03;</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># &#x7ED8;&#x5236;&#x6298;&#x7EBF;&#x56FE;</span>
gmv_m<span class="token punctuation">[</span><span class="token string">&apos;&#x91D1;&#x989D;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># &#x4F7F;&#x7528;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&#x7684;&#x6570;&#x636E;&#x4F5C;&#x4E3A;X&#x8F74;&#x663E;&#x793A;&#x7684;&#x6807;&#x7B7E;</span>
x_label <span class="token operator">=</span> gmv_m<span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span>
<span class="token comment"># &#x8BBE;&#x7F6E;X&#x8F74;&#x6807;&#x7B7E;</span>
<span class="token comment"># &#x53C2;&#x6570;1 &#x5F53;&#x524D;&#x7684;&#x6807;&#x7B7E;(&#x4ECE;0&#x5F00;&#x59CB;&#x7684;&#x6570;&#x5B57;) </span>
<span class="token comment"># &#x53C2;&#x6570;2 &#x8981;&#x66FF;&#x6362;&#x7684;&#x6807;&#x7B7E;</span>
<span class="token comment"># &#x53C2;&#x6570;3 rotation &#x6807;&#x7B7E;&#x5B57;&#x4F53;&#x65CB;&#x8F6C;45&#x5EA6;</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x_label<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span>
<span class="token comment"># &#x663E;&#x793A;&#x7F51;&#x683C;&#x7EBF;</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-19.png" align="left"></p>
<blockquote>
<p>&#x4ECE;&#x4E0A;&#x56FE;&#x770B;&#x51FA;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x4E1A;&#x52A1;&#x6709;&#x5468;&#x671F;&#x6027;&#xFF0C;&#x6BCF;&#x5E74;&#x7684;&#x4E09;&#x5B63;&#x5EA6;&#x5F00;&#x59CB;&#x9500;&#x91CF;&#x5F00;&#x59CB;&#x4E0A;&#x5347;&#xFF0C;&#x56DB;&#x5B63;&#x5EA6;&#x662F;&#x4E1A;&#x52A1;&#x7684;&#x5CF0;&#x503C;&#xFF0C;&#x4ECE;&#x5546;&#x54C1;&#x63CF;&#x8FF0;&#x770B;&#x4E3B;&#x8981;&#x662F;&#x5723;&#x8BDE;&#x65B0;&#x5E74;&#x793C;&#x54C1;&#xFF0C;&#x5370;&#x8BC1;&#x4E86;&#x5E74;&#x5E95;&#x662F;&#x9500;&#x552E;&#x65FA;&#x5B63;&#x7684;&#x539F;&#x56E0;</p>
</blockquote>
<h3 id="24-&#x8BA1;&#x7B97;&#x6708;&#x9500;&#x552E;&#x989D;&#x73AF;&#x6BD4;">2.4 &#x8BA1;&#x7B97;&#x6708;&#x9500;&#x552E;&#x989D;&#x73AF;&#x6BD4;</h3>
<p>&#x73AF;&#x6BD4;&#x6982;&#x5FF5;&#xFF1A;&#x5F53;&#x524D;&#x6708;&#x8DDF;&#x4E0A;&#x4E00;&#x6708;&#x5BF9;&#x6BD4;</p>
<blockquote>
<p>&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x8FD8;&#x80FD;&#x542C;&#x5230;&#x540C;&#x6BD4;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x540C;&#x6BD4;&#x662F;&#x4E0E;&#x4E0A;&#x4E00;&#x5E74;&#x540C;&#x671F;&#x5BF9;&#x6BD4;&#xFF0C;&#x6BD4;&#x5982;&#x4ECA;&#x5E74;&#x53CC;&#x5341;&#x4E00; &#x4E0E;&#x53BB;&#x5E74;&#x53CC;&#x5341;&#x4E00;&#x5BF9;&#x6BD4;&#xFF0C;&#x53EB;&#x540C;&#x6BD4;</p>
</blockquote>
<pre><code class="lang-python"><span class="token comment"># pct_change &#x8BA1;&#x7B97;&#x73AF;&#x6BD4;</span>
gmv_m<span class="token punctuation">[</span><span class="token string">&apos;&#x6708;&#x9500;&#x552E;&#x989D;&#x73AF;&#x6BD4;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> gmv_m<span class="token punctuation">[</span><span class="token string">&apos;&#x91D1;&#x989D;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>pct_change<span class="token punctuation">(</span><span class="token punctuation">)</span>
gmv_m
</code></pre>
<p><img src="images/chapter08-20.png" alt=""></p>
<p>&#x7ED8;&#x5236;&#x56FE;&#x5F62;&#xFF0C;&#x53EF;&#x89C6;&#x5316;&#x6708;&#x9500;&#x552E;&#x989D;&#x73AF;&#x6BD4;&#x6570;&#x636E;</p>
<pre><code class="lang-python">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
gmv_m<span class="token punctuation">[</span><span class="token string">&apos;&#x6708;&#x9500;&#x552E;&#x989D;&#x73AF;&#x6BD4;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x_label<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-21.png" align="left"></p>
<blockquote>
<p>&#x4ECE;&#x5206;&#x6790;&#x7ED3;&#x679C;&#x4E2D;&#x770B;&#x51FA;&#xFF0C; &#x6BCF;&#x5E74;1&#x6708;&#x73AF;&#x6BD4;&#x6570;&#x636E;&#x6709;&#x660E;&#x663E;&#x4E0B;&#x8DCC;&#xFF0C;&#x7531;&#x4E8E;&#x4E1A;&#x52A1;&#x7684;&#x5468;&#x671F;&#x6027;&#x539F;&#x56E0;&#xFF0C; 1&#x6708;&#x6570;&#x636E;&#x4E0B;&#x964D;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#xFF0C; &#x4F46;&#x662F;4&#x6708;&#x4EFD;&#x73AF;&#x6BD4;&#x6570;&#x636E;&#x4E5F;&#x6709;&#x660E;&#x663E;&#x4E0B;&#x964D;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x5206;&#x6790;</p>
</blockquote>
<ul>
<li>&#x6536;&#x5165;= &#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x6570; * &#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x5E73;&#x5747;&#x6D88;&#x8D39;&#x91D1;&#x989D;</li>
<li>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x4ECE;&#x8FD9;&#x4E24;&#x4E2A;&#x4E2A;&#x7EF4;&#x5EA6;&#x505A;&#x8FDB;&#x4E00;&#x6B65;&#x5206;&#x6790;&#xFF1A;&#x6708;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x6570;&#xFF0C;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x5E73;&#x5747;&#x6D88;&#x8D39;&#x91D1;&#x989D;</li>
</ul>
<h3 id="25-&#x6708;&#x5747;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x5206;&#x6790;">2.5 &#x6708;&#x5747;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x5206;&#x6790;</h3>
<p>&#x6211;&#x4EEC;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x6708;&#x5747;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x7528;&#x6237;&#x7F16;&#x53F7;&#x6709;&#x7F3A;&#x5931;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x8FD9;&#x90E8;&#x5206;&#x7F3A;&#x5931;&#x6570;&#x636E;&#x5220;&#x9664;</p>
<p>&#x6570;&#x636E;&#x4E2D;&#x53EA;&#x6709;&#x8D2D;&#x4E70;&#x8BB0;&#x5F55;&#xFF0C;&#x6CA1;&#x6709;&#x5176;&#x5B83;&#x8BB0;&#x5F55;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;<strong>&#x7528;&#x8D2D;&#x4E70;&#x884C;&#x4E3A;&#x6765;&#x5B9A;&#x4E49;&#x6D3B;&#x8DC3;</strong></p>
<pre><code class="lang-python">mau <span class="token operator">=</span> retail_data_clean<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">,</span> as_index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nunique<span class="token punctuation">(</span><span class="token punctuation">)</span>
mau<span class="token punctuation">.</span>columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x7528;&#x6237;&#x6570;&apos;</span><span class="token punctuation">]</span>
mau<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-22.png" alt=""></p>
<p>Pandas&#x7ED8;&#x56FE;&#x5C55;&#x793A;&#x6708;&#x6D3B;&#x53D8;&#x5316;&#x60C5;&#x51B5;</p>
<pre><code class="lang-python">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
mau<span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;&#x6570;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind <span class="token operator">=</span> <span class="token string">&apos;bar&apos;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x_label<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-23.png" align="left"></p>
<blockquote>
<p>&#x5BF9;&#x6BD4;3&#x6708;&#x548C;4&#x6708;&#x7684;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x60C5;&#x51B5;&#xFF0C;&#x786E;&#x5B9E;&#x6709;&#x4E0B;&#x964D;</p>
</blockquote>
<h3 id="26-&#x6708;&#x5BA2;&#x5355;&#x4EF7;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x5E73;&#x5747;&#x6D88;&#x8D39;&#x91D1;&#x989D;">2.6 &#x6708;&#x5BA2;&#x5355;&#x4EF7;(&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x5E73;&#x5747;&#x6D88;&#x8D39;&#x91D1;&#x989D;)</h3>
<p>&#x5C06;&#x6708;&#x9500;&#x91CF;&#x6570;&#x636E;&#x548C;&#x6708;&#x6D3B;&#x6570;&#x636E;&#x5408;&#x5E76;&#xFF0C;&#x7136;&#x540E;&#x8BA1;&#x7B97;&#x5BA2;&#x5355;&#x4EF7;</p>
<ul>
<li>&#x5BA2;&#x5355;&#x4EF7; = &#x6708;GMV/&#x6708;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x6570;</li>
</ul>
<pre><code class="lang-python">final <span class="token operator">=</span> mau<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>gmv_m<span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">)</span>
final<span class="token punctuation">[</span><span class="token string">&apos;&#x5BA2;&#x5355;&#x4EF7;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> final<span class="token punctuation">[</span><span class="token string">&apos;&#x91D1;&#x989D;&apos;</span><span class="token punctuation">]</span><span class="token operator">/</span>final<span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;&#x6570;&apos;</span><span class="token punctuation">]</span>
final
</code></pre>
<p><img src="images/chapter08-24.png" alt="img"></p>
<ul>
<li>&#x53EF;&#x89C6;&#x5316;</li>
</ul>
<pre><code class="lang-python">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
final<span class="token punctuation">[</span><span class="token string">&apos;&#x5BA2;&#x5355;&#x4EF7;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x_label<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-25.png" align="left"></p>
<blockquote>
<p>&#x4ECE;&#x4E0A;&#x56FE;&#x4E2D;&#x770B;&#x51FA;&#xFF0C;&#x5BF9;&#x6BD4;3&#x6708;&#x548C;4&#x6708;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5BA2;&#x5355;&#x4EF7;&#x4E5F;&#x6709;&#x6240;&#x4E0B;&#x964D;</p>
<p>&#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x5206;&#x6790;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x6708;&#x6D3B;&#x4EBA;&#x6570;&#xFF0C;&#x8FD8;&#x662F;&#x6708;&#x5BA2;&#x5355;&#x4EF7;&#x6BCF;&#x5E74;4&#x6708;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4F4E;&#x4E8E;3&#x6708;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#x5BFC;&#x81F4;4&#x6708;&#x7684;&#x5317;&#x6781;&#x661F;&#x6307;&#x6807;&#xFF0C;&#x6708;&#x9500;&#x552E;&#x989D;&#xFF0C;&#x5BF9;&#x6BD4;3&#x6708;&#x4EFD;&#x6709;&#x5927;&#x5E45;&#x5EA6;&#x7684;&#x4E0B;&#x964D;</p>
</blockquote>
<h3 id="27-&#x65B0;&#x7528;&#x6237;&#x5360;&#x6BD4;">2.7 &#x65B0;&#x7528;&#x6237;&#x5360;&#x6BD4;</h3>
<p>&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x8BA1;&#x7B97;&#x4E86;&#x4E0E;&#x5317;&#x6781;&#x661F;&#x6307;&#x6807;&#x76F4;&#x63A5;&#x76F8;&#x5173;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x5176;&#x5B83;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x6307;&#x6807;</p>
<ul>
<li>&#x65B0;&#x7528;&#x6237;&#x5360;&#x6BD4;&#x662F;&#x8861;&#x91CF;&#x4E1A;&#x52A1;&#x5065;&#x5EB7;&#x7A0B;&#x5EA6;&#x7684;&#x91CD;&#x8981;&#x6307;&#x6807;</li>
<li>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x786E;&#x5B9A;&#xFF0C; &#x5982;&#x4F55;&#x5B9A;&#x4E49;&#x65B0;&#x7528;&#x6237;&#x3002;</li>
</ul>
<p><strong>&#x533A;&#x5206;&#x65B0;&#x8001;&#x7528;&#x6237;</strong></p>
<p>&#x627E;&#x5230;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x7B2C;&#x4E00;&#x6B21;&#x8D2D;&#x4E70;&#x7684;&#x65E5;&#x671F;</p>
<pre><code class="lang-python"><span class="token comment"># &#x6309;&#x7167;&#x7528;&#x6237;ID&#x5206;&#x7EC4;&#xFF0C;&#x627E;&#x5230;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x8D2D;&#x4E70;&#x65F6;&#x95F4;&#x7684;&#x6700;&#x5C0F;&#x503C;</span>
retail <span class="token operator">=</span> retail_data_clean<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">,</span> as_index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x65F6;&#x95F4;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># &#x4FEE;&#x6539;&#x5217;&#x6807;&#x7B7E;</span>
retail<span class="token punctuation">.</span>columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;&#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x65F6;&#x95F4;&apos;</span><span class="token punctuation">]</span>
<span class="token comment"># &#x521B;&#x5EFA;&#x65B0;&#x7684;&#x5B57;&#x6BB5; &#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x5E74;&#x6708;</span>
retail<span class="token punctuation">[</span><span class="token string">&apos;&#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> retail<span class="token punctuation">[</span><span class="token string">&apos;&#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x65F6;&#x95F4;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">&apos;datetime64[M]&apos;</span><span class="token punctuation">)</span>
retail
</code></pre>
<p><img src="images/chapter08-26.png" alt="img"></p>
<p>&#x5C06;&#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x65E5;&#x671F;&#x7684;&#x6570;&#x636E;&#x4E0E;&#x539F;&#x59CB;&#x6570;&#x636E;&#x5408;&#x5E76;</p>
<pre><code class="lang-python">retail_data_clean <span class="token operator">=</span> pd<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>retail_data_clean<span class="token punctuation">,</span> retail<span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">)</span>
retail_data_clean
</code></pre>
<p><img src="images/chapter08-27.png" alt="img"></p>
<p>&#x521B;&#x5EFA;<code>&#x7528;&#x6237;&#x7C7B;&#x578B;</code>&#x5B57;&#x6BB5;&#x6765;&#x533A;&#x5206;&#x65B0;&#x8001;&#x7528;&#x6237;</p>
<pre><code class="lang-python"><span class="token comment"># &#x7ED9;&#x6240;&#x6709;&#x7684;&#x7528;&#x6237;&#x5148;&#x8D4B;&#x503C;&#xFF1A;&#x65B0;&#x7528;&#x6237;</span>
retail_data_clean<span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;&#x7C7B;&#x578B;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&apos;&#x65B0;&#x7528;&#x6237;&apos;</span>
<span class="token comment"># &#x628A;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x7684;&#x884C;, &#x5BF9;&#x5E94;&#x7684;&#x7528;&#x6237;&#x7C7B;&#x578B;&#x5217; &#x6539;&#x6210; &#x8001;&#x7528;&#x6237;</span>
retail_data_clean<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>retail_data_clean<span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>retail_data_clean<span class="token punctuation">[</span><span class="token string">&apos;&#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                      <span class="token string">&apos;&#x7528;&#x6237;&#x7C7B;&#x578B;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&apos;&#x8001;&#x7528;&#x6237;&apos;</span>
retail_data_clean<span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;&#x7C7B;&#x578B;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-28.png" alt="img"></p>
<pre><code class="lang-python">retail_data_clean
</code></pre>
<p><img src="images/chapter08-29.png" alt="img"></p>
<p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x7EDF;&#x8BA1;&#x65B0;&#x7528;&#x6237;&#x548C;&#x8001;&#x7528;&#x6237;&#x7684;&#x9500;&#x552E;&#x989D;&#xFF1A;</p>
<pre><code class="lang-python">revenue <span class="token operator">=</span> retail_data_clean<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x7528;&#x6237;&#x7C7B;&#x578B;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                                    as_index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&apos;&#x91D1;&#x989D;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
revenue<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-30.png" alt="img"></p>
<p>&#x7531;&#x4E8E;2009&#x5E74;12&#x6708;&#x548C;2011&#x5E74;12&#x6708;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x5168;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x5904;&#x7406;&#x8FD9;&#x4E24;&#x90E8;&#x5206;&#x6570;&#x636E;</p>
<pre><code class="lang-python">revenue <span class="token operator">=</span> revenue<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;!=&quot;2009-12-01&quot; &amp; &#x8D2D;&#x4E70;&#x5E74;&#x6708;!=&quot;2011-12-01&quot;&apos;</span><span class="token punctuation">)</span>
</code></pre>
<p>&#x53EF;&#x89C6;&#x5316;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x628A;&#x65B0;&#x8001;&#x7528;&#x6237;&#x7684;&#x8D2D;&#x4E70;&#x60C5;&#x51B5;&#x90FD;&#x7ED8;&#x5236;&#x5230;&#x4E00;&#x5F20;&#x56FE;&#x8868;&#x4E2D;</p>
<pre><code class="lang-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

new_revenue <span class="token operator">=</span> revenue<span class="token punctuation">[</span>revenue<span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;&#x7C7B;&#x578B;&apos;</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">&apos;&#x65B0;&#x7528;&#x6237;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&apos;&#x91D1;&#x989D;&apos;</span><span class="token punctuation">]</span>

<span class="token comment"># &#x4FEE;&#x6539;&#x65B0;&#x7528;&#x6237;&#x5BF9;&#x5E94;&#x884C;&#x7D22;&#x5F15;&#xFF0C;&#x4FDD;&#x8BC1;&#x548C;&#x8001;&#x7528;&#x6237;&#x884C;&#x7D22;&#x5F15;&#x5BF9;&#x9F50;</span>
new_revenue<span class="token punctuation">.</span>index <span class="token operator">=</span> new_revenue<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token number">1</span>
old_revenue <span class="token operator">=</span> revenue<span class="token punctuation">[</span>revenue<span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;&#x7C7B;&#x578B;&apos;</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">&apos;&#x8001;&#x7528;&#x6237;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&apos;&#x91D1;&#x989D;&apos;</span><span class="token punctuation">]</span>

<span class="token comment"># &#x7ED8;&#x56FE;&#x64CD;&#x4F5C;</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
new_revenue<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>
old_revenue<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x_label<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span>

<span class="token comment"># &#x6DFB;&#x52A0;&#x56FE;&#x4F8B;</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x65B0;&#x7528;&#x6237;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x8001;&#x7528;&#x6237;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-31.png" align="left"></p>
<blockquote>
<p>&#x4E0A;&#x56FE;&#x7ED8;&#x5236;&#x4E86;&#x65B0;&#x8001;&#x7528;&#x6237;&#x4EA4;&#x6613;&#x989D;&#x7684;&#x5BF9;&#x6BD4;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x8FD8;&#x662F;&#x6709;&#x660E;&#x663E;&#x7684;&#x5468;&#x671F;&#x6027;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x6BD4;2010&#x5E74;&#xFF0C;2011&#x5E74;&#x65B0;&#x7528;&#x6237;&#x7684;&#x4EA4;&#x6613;&#x989D;&#x6709;&#x4E0B;&#x964D;&#x7684;&#x8D8B;&#x52BF;&#xFF0C;&#x6211;&#x4EEC;&#x518D;&#x8BA1;&#x7B97;&#x4E00;&#x4E0B;&#x65B0;&#x8001;&#x7528;&#x6237;&#x7684;&#x6570;&#x91CF;&#x5BF9;&#x6BD4;</p>
</blockquote>
<p>&#x6309;&#x6708;&#x5206;&#x7EC4;&#x8BA1;&#x7B97;&#x65B0;&#x7528;&#x6237;&#x6570;&#x91CF;&#x548C;&#x8001;&#x7528;&#x6237;&#x6570;&#x91CF;&#x5E76;&#x8BA1;&#x7B97;&#x65B0;&#x7528;&#x6237;&#x5360;&#x6BD4;&#xFF1A;</p>
<ul>
<li>&#x65B0;&#x7528;&#x6237;&#x5360;&#x6BD4; = &#x6BCF;&#x6708;&#x65B0;&#x7528;&#x6237;/&#x6BCF;&#x6708;&#x6709;&#x8D2D;&#x4E70;&#x7684;&#x603B;&#x7528;&#x6237;&#x6570;</li>
</ul>
<pre><code class="lang-python"><span class="token comment"># &#x6309;&#x6708;&#x7EDF;&#x8BA1;&#x65B0;&#x7528;&#x6237;&#x6570;&#x91CF;</span>
user_ratio <span class="token operator">=</span> retail_data_clean<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">&quot;&#x7528;&#x6237;&#x7C7B;&#x578B; == &apos;&#x65B0;&#x7528;&#x6237;&apos;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>
    <span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">,</span> as_index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nunique<span class="token punctuation">(</span><span class="token punctuation">)</span>
user_ratio<span class="token punctuation">.</span>columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x65B0;&#x7528;&#x6237;&#x6570;&apos;</span><span class="token punctuation">]</span>
<span class="token comment"># &#x6309;&#x6708;&#x7EDF;&#x8BA1;&#x6709;&#x8D2D;&#x4E70;&#x7684;&#x7528;&#x6237;&#x6570;&#x91CF;</span>
user_ratio<span class="token punctuation">[</span><span class="token string">&apos;&#x603B;&#x7528;&#x6237;&#x6570;&apos;</span><span class="token punctuation">]</span><span class="token operator">=</span> retail_data_clean<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nunique<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>values
<span class="token comment"># &#x8BA1;&#x7B97;&#x65B0;&#x7528;&#x6237;&#x5360;&#x6BD4;</span>
user_ratio<span class="token punctuation">[</span><span class="token string">&apos;&#x65B0;&#x7528;&#x6237;&#x5360;&#x6BD4;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> user_ratio<span class="token punctuation">[</span><span class="token string">&apos;&#x65B0;&#x7528;&#x6237;&#x6570;&apos;</span><span class="token punctuation">]</span><span class="token operator">/</span>user_ratio<span class="token punctuation">[</span><span class="token string">&apos;&#x603B;&#x7528;&#x6237;&#x6570;&apos;</span><span class="token punctuation">]</span>
user_ratio<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-32.png" alt="img"></p>
<p>&#x7531;&#x4E8E;&#x6570;&#x636E;&#x4ECE;2009&#x5E74;12&#x6708;&#x5F00;&#x59CB;&#xFF0C;&#x7F3A;&#x5C11;&#x524D;&#x9762;&#x7684;&#x6570;&#x636E;&#xFF0C; &#x800C;&#x6211;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x53C8;&#x662F;&#x4EE5;&#x51FA;&#x73B0;&#x5728;&#x6570;&#x636E;&#x96C6;&#x4E2D;&#xFF0C;&#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x8BB0;&#x5F55;&#x4F5C;&#x4E3A;&#x65B0;&#x7528;&#x6237;&#x7684;&#x8BA4;&#x5B9A;&#x65B9;&#x5F0F;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x8FD9;&#x91CC;&#x53EA;&#x5C55;&#x793A;2011&#x5E74;&#x7684;&#x65B0;&#x7528;&#x6237;&#x5360;&#x6BD4;&#x6570;&#x636E;&#x3002;</p>
<pre><code class="lang-python"><span class="token comment"># &#x6570;&#x636E;&#x5207;&#x7247;, &#x622A;&#x53D6;2011-01 &#x4EE5;&#x540E;&#x7684;&#x6570;&#x636E;</span>
user_ratio<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
</code></pre>
<p><img src="images/chapter08-33.png" alt="img"></p>
<p>&#x6570;&#x636E;&#x53EF;&#x89C6;&#x5316;&#xFF1A;</p>
<pre><code class="lang-python"><span class="token comment"># &#x622A;&#x53D6;2011-01-01&#x4EE5;&#x540E;&#x7684;&#x6570;&#x636E;</span>
plot_data <span class="token operator">=</span> user_ratio<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>

x_label <span class="token operator">=</span> plot_data<span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plot_data<span class="token punctuation">[</span><span class="token string">&apos;&#x65B0;&#x7528;&#x6237;&#x5360;&#x6BD4;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">.</span>bar<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span> labels<span class="token operator">=</span>x_label<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-34.png" align="left"></p>
<blockquote>
<p>&#x4ECE;&#x4E0A;&#x56FE;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C; &#x65B0;&#x7528;&#x6237;&#x5360;&#x6BD4;&#x6709;&#x4E0B;&#x964D;&#x7684;&#x8D8B;&#x52BF;&#xFF0C;&#x5373;&#x4F7F;&#x662F;&#x5728;&#x5E74;&#x5E95;&#x7684;&#x65FA;&#x5B63;&#x4E5F;&#x4E5F;&#x6CA1;&#x6709;&#x6BD4;2011&#x7B2C;&#x4E00;&#x5B63;&#x5EA6;&#x7684;&#x60C5;&#x51B5;&#x597D;</p>
</blockquote>
<h3 id="28-&#x6FC0;&#x6D3B;&#x7387;&#x8BA1;&#x7B97;">2.8 &#x6FC0;&#x6D3B;&#x7387;&#x8BA1;&#x7B97;</h3>
<ul>
<li>&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x7684;&#x6982;&#x5FF5;&#xFF1A;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x4E0D;&#x7B49;&#x540C;&#x4E8E;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x4E86;&#x8D26;&#x53F7;/&#x767B;&#x5F55;&#x4E86;APP&#xFF0C;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x4EA7;&#x54C1;&#x7684;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x5B9A;&#x4E49;&#x5404;&#x6709;&#x5DEE;&#x522B;</li>
<li>&#x603B;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x662F;&#x6307;&#x7528;&#x6237;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x5185;&#x5728;&#x4EA7;&#x54C1;&#x4E2D;&#x5B8C;&#x6210;&#x4E00;&#x5B9A;&#x6B21;&#x6570;&#x7684;&#x5173;&#x952E;&#x884C;&#x4E3A;<ul>
<li>&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x662F;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x7684;&#x65F6;&#x95F4;&#x7A97;&#x53E3;&#xFF0C;&#x9488;&#x5BF9;&#x7279;&#x5B9A;&#x4EA7;&#x54C1;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x65F6;&#x95F4;&#x5468;&#x671F;&#xFF0C;&#x4E5F;&#x662F;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x7684;&#x4E3B;&#x8981;&#x8FD0;&#x8425;&#x5468;&#x671F;&#xFF1B;</li>
<li>&#x4E00;&#x5B9A;&#x6B21;&#x6570;&#x662F;&#x6307;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x884C;&#x4E3A;&#x7684;&#x53D1;&#x751F;&#x6B21;&#x6570;&#xFF0C;&#x4E5F;&#x88AB;&#x79F0;&#x4F5C;&#x9B54;&#x6CD5;&#x6570;&#x5B57;&#xFF0C;&#x662F;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x91CD;&#x70B9;&#x5173;&#x6CE8;&#x7684;&#x6570;&#x636E;&#xFF1B;</li>
<li>&#x5173;&#x952E;&#x884C;&#x4E3A;&#x662F;&#x6307;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x884C;&#x4E3A;</li>
<li>&#x4E3E;&#x4F8B;&#xFF1A;&#x77ED;&#x89C6;&#x9891;&#x7C7B;&#x5E94;&#x7528;&#xFF0C;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E3A;<strong>3&#x65E5;</strong>&#x5185;&#xFF0C;<strong>&#x6D4F;&#x89C8;</strong>&#x8D85;&#x8FC7;<strong>n&#x4E2A;&#x77ED;&#x89C6;&#x9891;</strong></li>
</ul>
</li>
<li>&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x5B9A;&#x4E49;&#x6FC0;&#x6D3B;&#xFF1A;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x540E;30&#x65E5;&#x5185;&#x5B8C;&#x6210;&#x81F3;&#x5C11;&#x4E00;&#x6B21;&#x8D2D;&#x4E70;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x6FC0;&#x6D3B;&#x7528;&#x6237;</li>
</ul>
<p>&#x52A0;&#x8F7D;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x65E5;&#x671F;&#x6570;&#x636E;&#xFF1A;</p>
<pre><code class="lang-python">retail <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&apos;data/retail_user_data.csv&apos;</span><span class="token punctuation">)</span>
retail
</code></pre>
<p><img src="images/chapter08-35.png" alt="img"></p>
<p>&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&#x3001;&#x6CE8;&#x518C;&#x5E74;&#x6708;&#x3001;&#x5B89;&#x88C5;&#x5E74;&#x6708;&#x5B57;&#x6BB5;&#x5305;&#x542B;&#x4E86;&#x5177;&#x4F53;&#x65F6;&#x523B;&#x4FE1;&#x606F;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x65F6;&#x523B;&#x6570;&#x636E;&#x53BB;&#x6389;</p>
<pre><code class="lang-python">retail<span class="token punctuation">[</span><span class="token string">&apos;&#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> retail<span class="token punctuation">[</span><span class="token string">&apos;&#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">&apos;datetime64[M]&apos;</span><span class="token punctuation">)</span>
retail<span class="token punctuation">[</span><span class="token string">&apos;&#x6CE8;&#x518C;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> retail<span class="token punctuation">[</span><span class="token string">&apos;&#x6CE8;&#x518C;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">&apos;datetime64[M]&apos;</span><span class="token punctuation">)</span>
retail<span class="token punctuation">[</span><span class="token string">&apos;&#x5B89;&#x88C5;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> retail<span class="token punctuation">[</span><span class="token string">&apos;&#x5B89;&#x88C5;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">&apos;datetime64[M]&apos;</span><span class="token punctuation">)</span>
</code></pre>
<p>&#x4E3A;&#x4E86;&#x80FD;&#x5206;&#x6790;&#x7684;&#x66F4;&#x52A0;&#x7EC6;&#x81F4;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x8FD8;&#x5305;&#x542B;&#x6E20;&#x9053;&#x6765;&#x6E90;&#x5B57;&#x6BB5;&#xFF0C; &#x4E00;&#x822C;&#x6211;&#x4EEC;&#x7684;&#x4EA7;&#x54C1;&#xFF08;&#x7F51;&#x7AD9;&#xFF0C;APP&#xFF09;&#x6709;&#x5982;&#x4E0B;&#x63A8;&#x5E7F;&#x6E20;&#x9053;</p>
<ul>
<li>&#x767E;&#x5EA6;&#xFF0C;360&#xFF0C;&#x641C;&#x72D7;&#xFF08;&#x8C37;&#x6B4C;&#xFF09;&#x7B49;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x7684;&#x7ADE;&#x4EF7;&#x6392;&#x540D;&#x5E7F;&#x544A;</li>
<li>&#x6D41;&#x91CF;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x4EA7;&#x54C1;&#x7684;&#x4FE1;&#x606F;&#x6D41;&#x5E7F;&#x544A;&#xFF0C; &#x5F00;&#x5C4F;&#x5E7F;&#x544A;&#xFF0C;&#x5934;&#x56FE;&#x5E7F;&#x544A;&#xFF08;&#x5FAE;&#x4FE1;&#xFF0C;&#x6296;&#x97F3;&#xFF0C;&#x5934;&#x6761;&#x7B49;&#xFF09;</li>
<li>&#x793E;&#x7FA4;&#x8FD0;&#x8425;&#xFF08;&#x79C1;&#x57DF;&#x6D41;&#x91CF;&#xFF09;&#xFF1A;&#x5FAE;&#x4FE1;&#x7FA4;</li>
<li>&#x5730;&#x63A8;&#xFF1A;&#x7EBF;&#x4E0B;&#x626B;&#x7801;</li>
<li>&#x4F20;&#x7EDF;&#x5A92;&#x4F53;&#xFF1A;&#x516C;&#x4EA4;&#xFF0C;&#x5730;&#x94C1;&#xFF0C;&#x7535;&#x89C6;&#x5A92;&#x4F53;&#xFF0C;&#x697C;&#x5B87;&#x5A92;&#x4F53;&#x7684;&#x786C;&#x5E7F;</li>
<li>&#x4E09;&#x65B9;&#x5E7F;&#x544A;&#x5546;&#xFF08;&#x5BF9;&#x63A5;&#x6D41;&#x91CF;&#x4E3B;&#x548C;&#x5E7F;&#x544A;&#x4E3B;&#xFF0C;&#x901A;&#x8FC7;&#x5F00;&#x53D1;&#x5E7F;&#x544A;SDK&#xFF0C;&#x6D41;&#x91CF;&#x4E3B;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x4EA7;&#x54C1;&#x91CC;&#x6DFB;&#x52A0;&#x5E7F;&#x544A;SDK&#x9884;&#x7559;&#x5E7F;&#x544A;&#x5C55;&#x793A;&#x4F4D;&#xFF0C;&#x5E7F;&#x544A;&#x4E3B;&#x76F4;&#x63A5;&#x8054;&#x7CFB;&#x4E09;&#x65B9;&#x5E7F;&#x544A;&#x5546;&#x63D0;&#x4F9B;&#x5E7F;&#x544A;&#x7D20;&#x6750;&#x548C;&#x8BBF;&#x95EE;&#x94FE;&#x63A5;&#xFF09;</li>
<li>&#x5982;&#x679C;&#x662F;APP&#x8FD8;&#x6709;&#x5982;&#x4E0B;&#x6E20;&#x9053;<ul>
<li>&#x5E94;&#x7528;&#x5E02;&#x573A;&#xFF1A;&#x5E94;&#x7528;&#x5B9D;&#xFF0C;360&#x5E02;&#x573A;&#xFF0C;&#x767E;&#x5EA6;&#x52A9;&#x624B;&#xFF0C;&#x8C37;&#x6B4C;&#x5546;&#x5E97;&#xFF0C;&#x5404;&#x5927;&#x624B;&#x673A;&#x5382;&#x5546;&#x7684;&#x5E94;&#x7528;&#x5546;&#x5E97;</li>
<li>&#x4E0E;&#x624B;&#x673A;&#x5382;&#x5546;&#x5408;&#x4F5C;&#x7684;&#x5E94;&#x7528;&#x9884;&#x88C5;</li>
<li>&#x4E0E;ROM&#x56E2;&#x961F;&#x5408;&#x4F5C;&#x7684;&#x5E94;&#x7528;&#x9884;&#x88C5;</li>
</ul>
</li>
</ul>
<p><strong>&#x8BA1;&#x7B97;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x7387;</strong></p>
<ul>
<li><p>&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x597D;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x7387;&#x4E86;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x6CE8;&#x518C;&#x65F6;&#x95F4;&#xFF0C;&#x5B89;&#x88C5;&#x65F6;&#x95F4;&#xFF0C;&#x6E20;&#x9053;&#x6765;&#x6E90;&#x90FD;&#x662F;&#x6A21;&#x62DF;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5B9E;&#x9645;&#x4E1A;&#x52A1;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x7F3A;&#x5C11;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#xFF0C;&#x9700;&#x8981;&#x8DDF;&#x5F00;&#x53D1;&#x90E8;&#x95E8;&#x6C9F;&#x901A;&#x57CB;&#x70B9;</p>
</li>
<li><p>&#x7EDF;&#x8BA1;&#x6CE8;&#x518C;&#x65F6;&#x95F4;&#x548C;&#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x65F6;&#x95F4;&#x90FD;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x6708;&#x4EFD;&#x7684;&#x7528;&#x6237;&#x6570;&#x91CF;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x8FD9;&#x7C7B;&#x7528;&#x6237;&#x4F5C;&#x4E3A;&#x6FC0;&#x6D3B;&#x7528;&#x6237;</p>
</li>
</ul>
<pre><code class="lang-python"><span class="token comment"># &#x7EDF;&#x8BA1;&#x6BCF;&#x6708;&#x6FC0;&#x6D3B;&#x7528;&#x6237;&#x6570;&#x91CF;</span>
activation_count <span class="token operator">=</span> retail<span class="token punctuation">[</span>retail<span class="token punctuation">[</span><span class="token string">&apos;&#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span> <span class="token operator">==</span> retail<span class="token punctuation">[</span><span class="token string">&apos;&#x6CE8;&#x518C;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>
    <span class="token string">&apos;&#x6CE8;&#x518C;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># &#x7EDF;&#x8BA1;&#x6BCF;&#x6708;&#x6CE8;&#x518C;&#x7684;&#x7528;&#x6237;&#x6570;</span>
register_count <span class="token operator">=</span> retail<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">&apos;&#x6CE8;&#x518C;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># &#x8BA1;&#x7B97;&#x6FC0;&#x6D3B;&#x7387; = &#x6BCF;&#x6708;&#x6FC0;&#x6D3B;&#x7528;&#x6237;/&#x6BCF;&#x6708;&#x6CE8;&#x518C;&#x7528;&#x6237;&#x6570;</span>
retail_activation <span class="token operator">=</span> activation_count<span class="token operator">/</span>register_count
retail_activation <span class="token operator">=</span> retail_activation<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># &#x4FEE;&#x6539;&#x5217;&#x6807;&#x7B7E;</span>
retail_activation<span class="token punctuation">.</span>columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&apos;&#x6CE8;&#x518C;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x6FC0;&#x6D3B;&#x7387;&apos;</span><span class="token punctuation">]</span>
retail_activation<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-36.png" alt="img"></p>
<ul>
<li>&#x53EF;&#x89C6;&#x5316;</li>
</ul>
<pre><code class="lang-python"><span class="token comment"># &#x6570;&#x636E;&#x53EF;&#x89C6;&#x5316;</span>
plot_data <span class="token operator">=</span> retail_activation<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>

<span class="token comment"># &#x7ED8;&#x56FE;</span>
x_label <span class="token operator">=</span> plot_data<span class="token punctuation">[</span><span class="token string">&apos;&#x6CE8;&#x518C;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plot_data<span class="token punctuation">[</span><span class="token string">&apos;&#x6FC0;&#x6D3B;&#x7387;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">.</span>bar<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x_label<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-37.png" align="left"></p>
<ul>
<li>&#x7531;&#x4E8E;&#x6570;&#x636E;&#x662F;&#x6A21;&#x62DF;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x56FE;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x4E1A;&#x52A1;&#x4EF7;&#x503C;&#xFF0C;&#x9700;&#x8981;&#x540C;&#x5B66;&#x4EEC;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x8BA1;&#x7B97;&#x6FC0;&#x6D3B;&#x7387;&#x8FD9;&#x4E2A;&#x6307;&#x6807;</li>
<li>&#x6FC0;&#x6D3B;&#x7387;&#x8D8A;&#x9AD8;&#x8BF4;&#x660E;&#x6211;&#x4EEC;&#x7684;&#x4EA7;&#x54C1;&#x5438;&#x5F15;&#x529B;&#x8D8A;&#x5F3A;&#xFF0C;&#x6CE8;&#x518C;&#x7528;&#x6237;&#x80FD;&#x591F;&#x5FEB;&#x901F;&#x8FDB;&#x5165;&#x5230;&#x6D3B;&#x8DC3;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x4E3A;&#x516C;&#x53F8;&#x5E26;&#x6765;&#x4EF7;&#x503C;</li>
<li>&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6E20;&#x9053;&#x8FD9;&#x4E2A;&#x7EF4;&#x5EA6;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x62C6;&#x89E3;&#xFF0C;&#x770B;&#x4E00;&#x770B;&#x54EA;&#x4E2A;&#x6E20;&#x9053;&#x7684;&#x7528;&#x6237;&#x8D28;&#x91CF;&#x9AD8;</li>
</ul>
<pre><code class="lang-python"><span class="token comment"># &#x7EDF;&#x8BA1;&#x6BCF;&#x6708;&#x4E0D;&#x540C;&#x6E20;&#x9053;&#x7684;&#x6FC0;&#x6D3B;&#x7528;&#x6237;&#x6570;</span>
activation_count <span class="token operator">=</span> retail<span class="token punctuation">[</span>retail<span class="token punctuation">[</span><span class="token string">&apos;&#x9996;&#x6B21;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token operator">==</span>retail<span class="token punctuation">[</span><span class="token string">&apos;&#x6CE8;&#x518C;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>
    <span class="token punctuation">[</span><span class="token string">&apos;&#x6CE8;&#x518C;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x6E20;&#x9053;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># &#x7EDF;&#x8BA1;&#x6BCF;&#x6708;&#x4E0D;&#x540C;&#x6E20;&#x9053;&#x7684;&#x6CE8;&#x518C;&#x7528;&#x6237;&#x6570;</span>
register_count <span class="token operator">=</span> retail<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x6CE8;&#x518C;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x6E20;&#x9053;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># &#x8BA1;&#x7B97;&#x6BCF;&#x6708;&#x4E0D;&#x540C;&#x6E20;&#x9053;&#x7684;&#x6FC0;&#x6D3B;&#x7387;</span>
activation_ratio <span class="token operator">=</span> activation_count <span class="token operator">/</span> register_count
activation_ratio <span class="token operator">=</span> activation_ratio<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
activation_ratio
</code></pre>
<p><img src="images/chapter08-38.png" alt="img"></p>
<p>&#x63D0;&#x53D6;&#x5404;&#x6E20;&#x9053;2010&#x5E74;&#x7684;&#x6FC0;&#x6D3B;&#x6570;&#x636E;&#x7528;&#x4E8E;&#x53EF;&#x89C6;&#x5316;&#xFF1A;</p>
<pre><code class="lang-python">data_wechat <span class="token operator">=</span> activation_ratio<span class="token punctuation">.</span>query<span class="token punctuation">(</span>
    <span class="token string">&quot;&#x6CE8;&#x518C;&#x5E74;&#x6708;&gt;20091201 and &#x6CE8;&#x518C;&#x5E74;&#x6708;&lt;20110101 and &#x6E20;&#x9053;==&apos;&#x5FAE;&#x4FE1;&apos;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
data_baidu <span class="token operator">=</span> activation_ratio<span class="token punctuation">.</span>query<span class="token punctuation">(</span>
    <span class="token string">&quot;&#x6CE8;&#x518C;&#x5E74;&#x6708;&gt;20091201 and &#x6CE8;&#x518C;&#x5E74;&#x6708;&lt;20110101 and &#x6E20;&#x9053;==&apos;&#x767E;&#x5EA6;&apos;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
data_tiktok <span class="token operator">=</span> activation_ratio<span class="token punctuation">.</span>query<span class="token punctuation">(</span>
    <span class="token string">&quot;&#x6CE8;&#x518C;&#x5E74;&#x6708;&gt;20091201 and &#x6CE8;&#x518C;&#x5E74;&#x6708;&lt;20110101 and &#x6E20;&#x9053;==&apos;&#x6296;&#x97F3;&apos;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>&#x6E20;&#x9053;&#x6FC0;&#x6D3B;&#x7387;&#x53EF;&#x89C6;&#x5316;&#xFF1A;</p>
<pre><code class="lang-python">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
data_wechat<span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>
data_baidu<span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>
data_tiktok<span class="token punctuation">[</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>

x_label <span class="token operator">=</span> data_wechat<span class="token punctuation">[</span><span class="token string">&apos;&#x6CE8;&#x518C;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>data_wechat<span class="token punctuation">.</span>index<span class="token punctuation">,</span> x_label<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-39.png" align="left"></p>
<p>&#x5982;&#x679C;&#x4E0D;&#x540C;&#x6E20;&#x9053;&#x7684;&#x6FC0;&#x6D3B;&#x7387;&#x6709;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x5DEE;&#x5F02;&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x4E00;&#x6B65;&#x601D;&#x8003;&#xFF0C;&#x6FC0;&#x6D3B;&#x7387;&#x6BD4;&#x8F83;&#x4F4E;&#x7684;&#x6E20;&#x9053;&#x7528;&#x6237;&#x6784;&#x6210;&#x4E0E;&#x6211;&#x4EEC;&#x4EA7;&#x54C1;&#x7684;&#x76EE;&#x6807;&#x7528;&#x6237;&#x7FA4;&#x4F53;&#x662F;&#x5426;&#x6709;&#x504F;&#x5DEE;</p>
<h3 id="29-&#x6708;&#x7559;&#x5B58;&#x7387;">2.9 &#x6708;&#x7559;&#x5B58;&#x7387;</h3>
<p>&#x6708;&#x7559;&#x5B58;&#x7387;&#x53EF;&#x4EE5;&#x53CD;&#x5E94;&#x5BF9;&#x8001;&#x7528;&#x6237;&#x662F;&#x5426;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x5438;&#x5F15;&#x529B;&#xFF0C; &#x53EF;&#x4EE5;&#x53CD;&#x6620;&#x51FA;&#x6211;&#x4EEC;&#x4EA7;&#x54C1;&#x7684;&#x5065;&#x5EB7;&#x7A0B;&#x5EA6;&#xFF0C;&#x5728;&#x5F53;&#x524D;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x6708;&#x7559;&#x5B58;&#x7387;&#x5B9A;&#x4E49;&#x4E3A;&#xFF1A;</p>
<ul>
<li>&#x6708;&#x7559;&#x5B58;&#x7387; = &#x5F53;&#x6708;&#x4E0E;&#x4E0A;&#x6708;&#x90FD;&#x6709;&#x8D2D;&#x4E70;&#x7684;&#x7528;&#x6237;&#x6570;/&#x4E0A;&#x6708;&#x8D2D;&#x4E70;&#x7684;&#x7528;&#x6237;&#x6570;</li>
</ul>
<p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x6765;&#x6309;&#x6708;&#x7EDF;&#x8BA1;&#x7528;&#x6237;&#x662F;&#x5426;&#x6709;&#x8D2D;&#x4E70;&#x7684;&#x60C5;&#x51B5;</p>
<pre><code class="lang-python"><span class="token comment"># &#x521B;&#x5EFA;&#x900F;&#x89C6;&#x8868;&#xFF0C;&#x6709;&#x8D2D;&#x4E70;&#x7684;&#x6708;&#x4EFD;&#x5BF9;&#x8D2D;&#x4E70;&#x6570;&#x91CF;&#x6C42;&#x548C;&#xFF0C;&#x6CA1;&#x6709;&#x8D2D;&#x4E70;&#x7684;&#x6708;&#x4EFD;&#x8865;0</span>
user_retention <span class="token operator">=</span> retail_data_clean<span class="token punctuation">.</span>pivot_table<span class="token punctuation">(</span>index<span class="token operator">=</span><span class="token string">&apos;&#x7528;&#x6237;ID&apos;</span><span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">,</span> 
                                               values<span class="token operator">=</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x6570;&#x91CF;&apos;</span><span class="token punctuation">,</span> aggfunc<span class="token operator">=</span><span class="token string">&apos;sum&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
user_retention
</code></pre>
<p><img src="images/chapter08-40.png" alt="img"></p>
<p>&#x63D0;&#x53D6;&#x51FA;&#x6708;&#x4EFD;&#x6570;&#x636E;&#xFF1A;&#x6211;&#x4EEC;&#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x7ED3;&#x679C;&#x4E2D;&#xFF0C; &#x622A;&#x53D6;&#x51FA;2010&#x5E74;1&#x6708;&#x4EE5;&#x540E;&#x7684;&#x6570;&#x636E;&#x6765;&#x8BA1;&#x7B97;&#xFF0C;&#x8BA1;&#x7B97;&#x5230;2011&#x5E74;10&#x6708;, &#x56E0;&#x4E3A;2011&#x5E74;12&#x6708;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x5168;&#x6240;&#x4EE5;2011&#x5E74;11&#x6708;&#x7684;&#x6570;&#x636E;&#x65E0;&#x6CD5;&#x51C6;&#x786E;&#x8BA1;&#x7B97;</p>
<pre><code class="lang-python">months <span class="token operator">=</span> user_retention<span class="token punctuation">.</span>columns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
months
</code></pre>
<pre><code>DatetimeIndex([&apos;2010-01-01&apos;, &apos;2010-02-01&apos;, &apos;2010-03-01&apos;, &apos;2010-04-01&apos;,
               &apos;2010-05-01&apos;, &apos;2010-06-01&apos;, &apos;2010-07-01&apos;, &apos;2010-08-01&apos;,
               &apos;2010-09-01&apos;, &apos;2010-10-01&apos;, &apos;2010-11-01&apos;, &apos;2010-12-01&apos;,
               &apos;2011-01-01&apos;, &apos;2011-02-01&apos;, &apos;2011-03-01&apos;, &apos;2011-04-01&apos;,
               &apos;2011-05-01&apos;, &apos;2011-06-01&apos;, &apos;2011-07-01&apos;, &apos;2011-08-01&apos;,
               &apos;2011-09-01&apos;, &apos;2011-10-01&apos;, &apos;2011-11-01&apos;],
              dtype=&apos;datetime64[ns]&apos;, name=&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;, freq=None)
</code></pre><p>&#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;&#x6708;&#x7684;&#x6708;&#x7559;&#x5B58;&#x7387;</p>
<pre><code class="lang-python">retention_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>months<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    retention_ <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment"># &#x5F53;&#x524D;&#x6708;&#x4EFD;</span>
    current_month <span class="token operator">=</span> months<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token comment"># &#x524D;&#x4E00;&#x6708;&#x4EFD;</span>
    prev_month <span class="token operator">=</span> months<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token comment"># &#x521B;&#x5EFA;&#x4E00;&#x5217;&#xFF0C;&#x7528;&#x6765;&#x8BB0;&#x5F55;&#x5F53;&#x524D;&#x6708;&#x4EFD;</span>
    retention_<span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> current_month
    <span class="token comment"># &#x5F53;&#x6708;&#x6709;&#x8D2D;&#x4E70;&#x7684;&#x7528;&#x6237;&#x6570;&#x91CF;</span>
    retention_<span class="token punctuation">[</span><span class="token string">&apos;&#x603B;&#x7528;&#x6237;&#x6570;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>user_retention<span class="token punctuation">[</span>current_month<span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># &#x5F53;&#x6708;&#x548C;&#x524D;&#x4E00;&#x6708;&#x90FD;&#x6709;&#x8D2D;&#x4E70;&#x7684;&#x7528;&#x6237;&#x6570;&#x91CF;</span>
    retention_<span class="token punctuation">[</span><span class="token string">&apos;&#x7559;&#x5B58;&#x7528;&#x6237;&#x6570;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>user_retention<span class="token punctuation">[</span>current_month<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>user_retention<span class="token punctuation">[</span>prev_month<span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># &#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230; list &#x4E2D;</span>
    retention_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>retention_<span class="token punctuation">)</span>

<span class="token comment"># &#x5C06; list &#x4E2D;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A; DataFrame &#x5E76;&#x8BA1;&#x7B97;&#x7559;&#x5B58;&#x7387;</span>
monthly_retention <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>retention_list<span class="token punctuation">)</span>
monthly_retention<span class="token punctuation">[</span><span class="token string">&apos;&#x7559;&#x5B58;&#x7387;&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> monthly_retention<span class="token punctuation">[</span><span class="token string">&apos;&#x7559;&#x5B58;&#x7528;&#x6237;&#x6570;&apos;</span><span class="token punctuation">]</span> <span class="token operator">/</span> monthly_retention<span class="token punctuation">[</span><span class="token string">&apos;&#x603B;&#x7528;&#x6237;&#x6570;&apos;</span><span class="token punctuation">]</span>
monthly_retention
</code></pre>
<p><img src="images/chapter08-41.png" style="zoom:100%;"></p>
<p>&#x7ED8;&#x5236;&#x6298;&#x7EBF;&#x56FE;</p>
<pre><code class="lang-python">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
monthly_retention<span class="token punctuation">[</span><span class="token string">&apos;&#x7559;&#x5B58;&#x7387;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>
x_label <span class="token operator">=</span> monthly_retention<span class="token punctuation">[</span><span class="token string">&apos;&#x8D2D;&#x4E70;&#x5E74;&#x6708;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>monthly_retention<span class="token punctuation">.</span>index<span class="token punctuation">,</span> x_label<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="images/chapter08-42.png" align="left"></p>
<blockquote>
<p>&#x4ECE;&#x4E0A;&#x56FE;&#x770B;&#x51FA;&#xFF0C;&#x7559;&#x5B58;&#x5728;35%&#x5DE6;&#x53F3;&#x6D6E;&#x52A8;&#xFF0C;&#x4E5F;&#x5177;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x5468;&#x671F;&#x6027;&#xFF0C;&#x56DB;&#x5B63;&#x5EA6;&#x7684;&#x8868;&#x73B0;&#x8F83;&#x597D;</p>
</blockquote>
<h2 id="&#x603B;&#x7ED3;">&#x603B;&#x7ED3;</h2>
<ul>
<li>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;&#x4E00;&#x5957;&#x6570;&#x636E;&#x6307;&#x6807;&#x6765;&#x8861;&#x91CF;&#x4E1A;&#x52A1;&#x597D;&#x574F;</li>
<li>&#x5E38;&#x7528;&#x7684;&#x4E1A;&#x52A1;&#x6307;&#x6807;&#xFF1A;DAU&#xFF0C;MAU&#xFF0C;&#x6B21;&#x7559;&#xFF0C;&#x4E03;&#x7559;&#xFF0C;GMV&#xFF0C;PV&#xFF0C;UV&#xFF0C;CPC&#xFF0C;CPD&#xFF0C;ARPU&#xFF0C;ARPPU</li>
<li>&#x5982;&#x4F55;&#x9009;&#x62E9;&#x6307;&#x6807;&#xFF1A;<ul>
<li><strong>&#x5927;&#x591A;&#x6570;</strong>&#x6307;&#x6807;&#x662F;&#x6BD4;&#x4F8B;&#xFF1A;&#x7559;&#x5B58;&#x7387;&#xFF0C;&#x6D41;&#x5931;&#x7387;&#xFF0C;&#x6FC0;&#x6D3B;&#x7387;&#xFF0C;&#x6D3B;&#x8DC3;&#x7387;&#x2026;&#x2026;</li>
<li>&#x5C0F;&#x90E8;&#x5206;&#x6307;&#x6807;&#x662F;&#x5177;&#x4F53;&#x6570;&#x503C;&#xFF1A;DAU&#xFF0C;MAU&#xFF0C;GMV&#x2026;&#x2026;</li>
</ul>
</li>
<li>Python&#x6307;&#x6807;&#x8BA1;&#x7B97;<ul>
<li>pd.query() &#x4F20;&#x5165;&#x6761;&#x4EF6;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#xFF0C;&#x7C7B;&#x4F3C;SQL&#x7684;where</li>
<li>pd.isin()</li>
</ul>
</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../chapter08/03-RFM用户分群分析.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: 案例1：RFM用户分群分析"><i class="fa fa-angle-left"></i></a>
        
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-splitter/splitter.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-code/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"disqus":{"shortName":"gitbookuse"},"github":{"url":"https://github.com/dododream"},"search-pro":{"cutWordLib":"nodejieba","defineWord":["gitbook-use"]},"sharing":{"weibo":true,"facebook":true,"twitter":true,"google":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"tbfed-pagefooter":{"copyright":"Copyright © ITCast","modify_label":"「Revision Time:","modify_format":"YYYY-MM-DD HH:mm:ss」"},"baidu":{"token":"ff100361cdce95dd4c8fb96b4009f7bc"},"sitemap":{"hostname":"http://www.treenewbee.top"},"donate":{"wechat":"http://weixin.png","alipay":"http://alipay.png","title":"","button":"赏","alipayText":"支付宝打赏","wechatText":"微信打赏"},"edit-link":{"base":"https://github.com/dododream/edit","label":"Edit This Page"},"code":{"copyButtons":true},"prism":{"css":["prismjs/themes/prism.css"]},"theme-vuejs":{},"search":{"maxIndexSize":1000000},"emphasize":{},"splitter":{},"toggle-chapters":{},"chapter-fold":{},"expandable-chapters-small":{},"fontsettings":{"theme":"white","family":"sans","size":2},"livereload":{}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
    </body>
    <!-- End of book Django课程讲义 -->
</html>

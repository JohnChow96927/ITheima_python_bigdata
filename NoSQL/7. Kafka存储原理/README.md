# Kafka存储原理, 生产者与消费者

## I. Kafka存储原理

### 1. 存储结构



### 2. 写入流程



### 3. 读取流程



### 4. 数据清理



### 5. 分区副本概念: AR, ISR, OSR



### 6. 数据同步概念: HW, LEO, LSO



### 7. 可视化工具: Kafka Eagle



## II. Kafka Producer

### 1. ACK机制



### 2. 分区规则



### 3. 自定义分区器



### 4. 事务幂等性



## III. Kafka Consumer

### 1. 消费分配策略



### 2. 消费Offset



### 3. 消费Topic



### 4. 消费语义



## 附录: Kafka集群常用配置

